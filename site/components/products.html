<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="BegonTech - Ürünler" />
  <title>BegonTech - Ürünler</title>
  <link rel="icon" type="image/png" href="../assets/images/begontechlight.png" />
  <link rel="apple-touch-icon" href="../assets/images/begontechlight.png" />
  <link rel="shortcut icon" href="../assets/images/begontechlight.png" />
  <link rel="stylesheet" href="../assets/css/styles.css" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <script>
    tailwind.config = { theme: { extend: { colors: { brand: { primary:'#1e40af', secondary:'#0891b2', accent:'#3b82f6', dark:'#1e293b', light:'#f8fafc' } } } } }
  </script>
  <style>
    /* Modern Product Page Styles */
    .product-card {
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      background: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);
      backdrop-filter: blur(10px);
      position: relative;
      overflow: hidden;
    }
    
    .product-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(59, 130, 246, 0.1), transparent);
      transition: left 0.6s ease;
    }
    
    .product-card:hover::before {
      left: 100%;
    }
    
    .product-card:hover {
      transform: translateY(-8px) scale(1.02);
      box-shadow: 0 25px 50px -12px rgba(30, 64, 175, 0.25);
      border-color: #3b82f6;
    }
    
    .product-image {
      transition: all 0.4s ease;
      filter: brightness(1) contrast(1);
    }
    
    .product-card:hover .product-image {
      filter: brightness(1.1) contrast(1.1);
      transform: scale(1.05);
    }
    
    .filter-btn {
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    
    .filter-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      transition: left 0.5s ease;
    }
    
    .filter-btn:hover::before {
      left: 100%;
    }
    
    .filter-btn.active {
      background: linear-gradient(135deg, #3b82f6 0%, #1e40af 100%);
      color: white;
      transform: scale(1.05);
      box-shadow: 0 8px 25px -3px rgba(30, 64, 175, 0.3);
    }
    
    .category-grid {
      animation: fadeInUp 0.6s ease-out;
    }
    
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .stagger-animation {
      animation: staggerFadeIn 0.6s ease-out forwards;
      opacity: 0;
    }
    
    @keyframes staggerFadeIn {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .floating-element {
      /* animation intentionally disabled; ensure it never blocks interactions */
      pointer-events: none;
      user-select: none;
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0px) rotate(0deg); }
      25% { transform: translateY(-10px) rotate(1deg); }
      50% { transform: translateY(-5px) rotate(0deg); }
      75% { transform: translateY(-15px) rotate(-1deg); }
    }
    
    .search-input {
      transition: all 0.3s ease;
      background: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);
    }
    
    .search-input:focus {
      background: #ffffff;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1), 0 8px 25px -3px rgba(30, 64, 175, 0.1);
      transform: translateY(-2px);
    }
    
    .basket-item {
      animation: slideInRight 0.4s ease-out;
    }
    
    @keyframes slideInRight {
      from {
        opacity: 0;
        transform: translateX(30px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }
    
    .page-title {
      background: linear-gradient(135deg, #1e40af 0%, #3b82f6 50%, #0891b2 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: titleGlow 3s ease-in-out infinite alternate;
    }
    
    @keyframes titleGlow {
      from { filter: brightness(1); }
      to { filter: brightness(1.2); }
    }
    
    .modal-backdrop {
      backdrop-filter: blur(8px);
      background: rgba(0, 0, 0, 0.6);
    }
    
    .modal-content {
      animation: modalSlideIn 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    @keyframes modalSlideIn {
      from {
        opacity: 0;
        transform: translateY(-50px) scale(0.95);
      }
      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }
    
    .gradient-border {
      position: relative;
      background: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);
    }
    
    .gradient-border::before {
      content: '';
      position: absolute;
      inset: 0;
      padding: 2px;
      background: linear-gradient(135deg, #3b82f6, #1e40af, #0891b2);
      border-radius: inherit;
      mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
      mask-composite: exclude;
      /* Ensure the decorative border layer doesn't block interactions */
      pointer-events: none;
    }
    
    .view-toggle-btn {
      transition: all 0.3s ease;
      position: relative;
    }
    
    .view-toggle-btn.active {
      background: linear-gradient(135deg, #3b82f6 0%, #1e40af 100%);
      color: white;
      box-shadow: 0 4px 15px rgba(30, 64, 175, 0.3);
    }
    
    .pagination-btn {
      transition: all 0.3s ease;
    }
    
    .pagination-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px -3px rgba(30, 64, 175, 0.15);
    }
    
    .loading-shimmer {
      background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
      background-size: 200% 100%;
      animation: shimmer 1.5s infinite;
    }
    
    @keyframes shimmer {
      0% { background-position: -200% 0; }
      100% { background-position: 200% 0; }
    }
    
    /* Mobile optimizations */
    @media (max-width: 640px) {
      .product-card {
        transform: none;
      }
      .product-card:hover {
        transform: translateY(-4px);
      }
    }
    
    /* Smooth transitions for responsive design */
    @media (min-width: 768px) {
      .responsive-grid {
        transition: grid-template-columns 0.3s ease;
      }
    }
    
    /* Line clamp utilities */
    .line-clamp-2 {
      display: -webkit-box;
      -webkit-line-clamp: 2;
      line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }
    
    .line-clamp-3 {
      display: -webkit-box;
      -webkit-line-clamp: 3;
      line-clamp: 3;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }
    
    /* Brand color utilities */
    .bg-blue-500 { background-color: #3b82f6; }
    .bg-green-500 { background-color: #10b981; }
    .text-blue-500 { color: #3b82f6; }
    .text-green-500 { color: #10b981; }
    .w-2 { width: 0.5rem; }
    .h-2 { height: 0.5rem; }
    .w-3 { width: 0.75rem; }
    .h-3 { height: 0.75rem; }
    
    /* Enhanced shadow utilities */
    .shadow-3xl {
      box-shadow: 0 35px 60px -12px rgba(0, 0, 0, 0.25);
    }
    
    /* Better mobile responsiveness for product cards */
    @media (max-width: 640px) {
      .product-card {
        margin-bottom: 1rem;
      }
      .product-card .btn-primary,
      .product-card button {
        font-size: 0.875rem;
        padding: 0.75rem 1rem;
      }
    }
    
    /* Fix overlapping issues for dense grid */
    @media (min-width: 768px) {
      .category-grid.grid-cols-4 .product-card,
      .category-grid.grid-cols-6 .product-card {
        min-height: 280px;
      }
    }
    
    /* Ensure proper spacing between elements */
    .xl\\:col-span-3 {
      margin-bottom: 2rem;
    }
    
    @media (min-width: 1280px) {
      .xl\\:col-span-3 {
        margin-bottom: 0;
      }
    }
  </style>
</head>
<body class="bg-white text-gray-800">
  <!-- Page Loading Overlay (used for transitions too) -->
  <div id="pageLoader" class="fixed inset-0 z-[9999] flex items-center justify-center bg-white bg-opacity-90 transition-opacity duration-500" style="display:none;">
    <img src="../assets/images/begontechgif.gif" alt="Yükleniyor..." class="w-32 h-32 animate" />
  </div>
  <!-- Shared Header Placeholder -->
  <div id="__header"></div>
  <main class="py-8 md:py-16 bg-gradient-to-br from-gray-50 via-white to-blue-50 min-h-screen">
    <div class="container mx-auto px-4 max-w-7xl">
      <!-- Title Section -->
  <div class="text-center mb-12">
  <div class="inline-block mb-4">
          <h1 class="text-3xl md:text-4xl font-extrabold text-brand-dark mb-2">Ürün Kataloğu</h1>
        </div>
  <div class="mx-auto my-6 w-24 h-1.5 rounded-full bg-gradient-to-r from-brand-primary via-brand-secondary to-brand-accent shadow-lg"></div>
  <p class="mt-4 text-xl text-gray-600 font-medium max-w-2xl mx-auto leading-relaxed">
          Akuvox & Akubela ürünleriyle ilham alın, geleceği evinize taşıyın
        </p>
  <div class="mt-8 flex flex-wrap justify-center gap-4">
          <div class="flex items-center gap-2 bg-white rounded-full px-6 py-3 shadow-md">
            <div class="w-3 h-3 bg-green-400 rounded-full animate-pulse"></div>
            <span class="text-sm font-medium text-gray-700" id="product-count">Ürünler yükleniyor...</span>
          </div>
          <div class="flex items-center gap-4 bg-white rounded-full px-6 py-3 shadow-md">
            <div class="flex items-center gap-2">
              <div class="w-3 h-3 bg-blue-500 rounded-full"></div>
              <span class="text-sm font-semibold text-blue-700">Akuvox</span>
            </div>
            <div class="w-px h-4 bg-gray-300"></div>
            <div class="flex items-center gap-2">
              <div class="w-3 h-3 bg-orange-500 rounded-full"></div>
              <span class="text-sm font-semibold text-orange-700">Akubela</span>
            </div>
          </div>
        </div>
      </div>

      <div class="grid grid-cols-1 xl:grid-cols-12 gap-8">
        <!-- Filters -->
        <aside class="xl:col-span-3" data-aos="fade-right" data-aos-duration="600">
          <div class="gradient-border rounded-2xl shadow-xl p-6 lg:sticky lg:top-24 backdrop-blur-sm">
            <h2 class="text-xl font-bold text-brand-dark mb-6 flex items-center gap-3">
              <div class="w-2 h-8 bg-gradient-to-b from-brand-primary to-brand-secondary rounded-full"></div>
              Kategoriler
            </h2>
            <div class="space-y-2 mb-6">
              <button class="filter-btn cat-btn px-4 py-3 w-full flex items-center gap-3 rounded-xl border border-gray-200 text-gray-700 hover:border-brand-accent font-medium transition-all duration-300" data-cat="all">
                <i class="fa fa-th-large text-gray-400"></i>
                <span class="">Tümü</span>
                <span class="ml-auto bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs" id="count-all">0</span>
              </button>
              <button class="filter-btn cat-btn px-4 py-3 w-full flex items-center gap-3 rounded-xl border border-gray-200 text-gray-700 hover:border-brand-accent font-medium transition-all duration-300" data-cat="door">
                <i class="fa fa-bell text-red-500"></i> 
                <span>Kapı Önü Ziller</span>
                <span class="ml-auto bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs" id="count-door">0</span>
              </button>
              <button class="filter-btn cat-btn px-4 py-3 w-full flex items-center gap-3 rounded-xl border border-gray-200 text-gray-700 hover:border-brand-accent font-medium transition-all duration-300" data-cat="indoor">
                <i class="fa fa-tablet text-blue-500"></i> 
                <span>Daire İçi Paneller</span>
                <span class="ml-auto bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs" id="count-indoor">0</span>
              </button>
              <button class="filter-btn cat-btn px-4 py-3 w-full flex items-center gap-3 rounded-xl border border-gray-200 text-gray-700 hover:border-brand-accent font-medium transition-all duration-300" data-cat="access">
                <i class="fa fa-lock text-yellow-600"></i> 
                <span>Access Kontrol</span>
                <span class="ml-auto bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs" id="count-access">0</span>
              </button>
              <button class="filter-btn cat-btn px-4 py-3 w-full flex items-center gap-3 rounded-xl border border-gray-200 text-gray-700 hover:border-brand-accent font-medium transition-all duration-300" data-cat="twire">
                <i class="fa fa-random text-purple-500"></i> 
                <span>2 Kablolu IP Sistemleri</span>
                <span class="ml-auto bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs" id="count-twire">0</span>
              </button>
              <button class="filter-btn cat-btn px-4 py-3 w-full flex items-center gap-3 rounded-xl border border-gray-200 text-gray-700 hover:border-brand-accent font-medium transition-all duration-300" data-cat="villa">
                <i class="fa fa-home text-green-600"></i> 
                <span>Villa Setler</span>
                <span class="ml-auto bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs" id="count-villa">0</span>
              </button>
              <button class="filter-btn cat-btn px-4 py-3 w-full flex items-center gap-3 rounded-xl border border-gray-200 text-gray-700 hover:border-brand-accent font-medium transition-all duration-300" data-cat="smart">
                <i class="fa fa-cogs text-indigo-500"></i> 
                <span>Akıllı Ev Ürünleri</span>
                <span class="ml-auto bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs" id="count-smart">0</span>
              </button>
              <button class="filter-btn cat-btn px-4 py-3 w-full flex items-center gap-3 rounded-xl border border-green-400 text-green-700 hover:border-brand-accent font-medium transition-all duration-300" data-cat="hypanel">
                <i class="fa fa-tablet text-green-500"></i> 
                <span>HyPanel</span>
                <span class="ml-auto bg-green-100 text-green-600 px-2 py-1 rounded-full text-xs" id="count-hypanel">0</span>
              </button>
              <button class="filter-btn cat-btn px-4 py-3 w-full flex items-center gap-3 rounded-xl border border-blue-400 text-blue-700 hover:border-brand-accent font-medium transition-all duration-300" data-cat="kilit">
                <i class="fa fa-lock text-blue-500"></i> 
                <span>Akıllı Kilitler</span>
                <span class="ml-auto bg-blue-100 text-blue-600 px-2 py-1 rounded-full text-xs" id="count-kilit">0</span>
              </button>
              <button class="filter-btn cat-btn px-4 py-3 w-full flex items-center gap-3 rounded-xl border border-yellow-400 text-yellow-700 hover:border-brand-accent font-medium transition-all duration-300" data-cat="sensor">
                <i class="fa fa-thermometer-half text-yellow-500"></i> 
                <span>Sensörler</span>
                <span class="ml-auto bg-yellow-100 text-yellow-600 px-2 py-1 rounded-full text-xs" id="count-sensor">0</span>
              </button>
              <button class="filter-btn cat-btn px-4 py-3 w-full flex items-center gap-3 rounded-xl border border-red-400 text-red-700 hover:border-brand-accent font-medium transition-all duration-300" data-cat="termostat">
                <i class="fa fa-fire text-red-500"></i> 
                <span>Termostat</span>
                <span class="ml-auto bg-red-100 text-red-600 px-2 py-1 rounded-full text-xs" id="count-termostat">0</span>
              </button>
              <button class="filter-btn cat-btn px-4 py-3 w-full flex items-center gap-3 rounded-xl border border-purple-400 text-purple-700 hover:border-brand-accent font-medium transition-all duration-300" data-cat="anahtar">
                <i class="fa fa-toggle-on text-purple-500"></i> 
                <span>Anahtar</span>
                <span class="ml-auto bg-purple-100 text-purple-600 px-2 py-1 rounded-full text-xs" id="count-anahtar">0</span>
              </button>
            </div>
            <div class="border-t border-gray-200 my-6"></div>

            <h2 class="text-xl font-bold text-brand-dark mb-4 flex items-center gap-3">
              <div class="w-2 h-8 bg-gradient-to-b from-brand-secondary to-brand-accent rounded-full"></div>
              Marka
            </h2>
            <div class="grid grid-cols-1 gap-2 mb-6">
              <button class="filter-btn brand-btn px-4 py-3 rounded-xl border border-gray-200 text-gray-700 hover:border-brand-accent font-medium transition-all duration-300 flex items-center justify-between" data-brand="all">
                <span>Tümü</span>
                <span class="bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs" id="brand-count-all">0</span>
              </button>
              <button class="filter-btn brand-btn px-4 py-3 rounded-xl border border-gray-200 text-gray-700 hover:border-brand-accent font-medium transition-all duration-300 flex items-center justify-between" data-brand="Akuvox">
                <div class="flex items-center gap-2">
                  <div class="w-3 h-3 bg-blue-500 rounded-full"></div>
                  <span>Akuvox</span>
                </div>
                <span class="bg-blue-100 text-blue-600 px-2 py-1 rounded-full text-xs" id="brand-count-akuvox">0</span>
              </button>
              <button class="filter-btn brand-btn px-4 py-3 rounded-xl border border-gray-200 text-gray-700 hover:border-brand-accent font-medium transition-all duration-300 flex items-center justify-between" data-brand="Akubela">
                <div class="flex items-center gap-2">
                  <div class="w-3 h-3 bg-orange-500 rounded-full"></div>
                  <span>Akubela</span>
                </div>
                <span class="bg-orange-100 text-orange-600 px-2 py-1 rounded-full text-xs" id="brand-count-akubela">0</span>
              </button>
            </div>
            <div class="border-t border-gray-200 my-6"></div>

            <h2 class="text-xl font-bold text-brand-dark mb-4 flex items-center gap-3">
              <div class="w-2 h-8 bg-gradient-to-b from-brand-accent to-brand-primary rounded-full"></div>
              Bağlantı
            </h2>
            <div class="grid grid-cols-2 gap-2 mb-6">
              <button class="filter-btn conn-btn px-3 py-2 rounded-xl border border-gray-200 text-gray-700 hover:border-brand-accent font-medium transition-all duration-300 text-sm" data-conn="all">Tümü</button>
              <button class="filter-btn conn-btn px-3 py-2 rounded-xl border border-gray-200 text-gray-700 hover:border-brand-accent font-medium transition-all duration-300 text-sm flex items-center gap-1" data-conn="WiFi">
                <i class="fa fa-wifi text-blue-500"></i>
                WiFi
              </button>
              <button class="filter-btn conn-btn px-3 py-2 rounded-xl border border-gray-200 text-gray-700 hover:border-brand-accent font-medium transition-all duration-300 text-sm" data-conn="KNX">KNX</button>
              <button class="filter-btn conn-btn px-3 py-2 rounded-xl border border-gray-200 text-gray-700 hover:border-brand-accent font-medium transition-all duration-300 text-sm" data-conn="Zigbee">Zigbee</button>
              <button class="filter-btn conn-btn px-3 py-2 rounded-xl border border-gray-200 text-gray-700 hover:border-brand-accent font-medium transition-all duration-300 text-sm flex items-center gap-1" data-conn="Bluetooth">
                <i class="fa fa-bluetooth text-blue-600"></i>
                BT
              </button>
              <button class="filter-btn conn-btn px-3 py-2 rounded-xl border border-gray-200 text-gray-700 hover:border-brand-accent font-medium transition-all duration-300 text-sm" data-conn="IR">IR</button>
            </div>
            <div class="border-t border-gray-200 my-6"></div>

            <!-- Search -->
            <div class="mt-2">
              <label for="search" class="block text-sm font-medium text-gray-700 mb-3">🔍 Ürün Ara</label>
              <div class="relative">
                <span class="absolute inset-y-0 left-0 pl-4 flex items-center text-gray-400">
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-4.35-4.35M10 18a8 8 0 100-16 8 8 0 000 16z"/></svg>
                </span>
                <input id="search" type="text" placeholder="Ürün adı, model veya özellik ara..." class="search-input w-full pl-12 pr-4 py-4 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-brand-accent/50 focus:border-brand-accent font-medium" />
                <div class="absolute inset-y-0 right-0 pr-4 flex items-center">
                  <kbd class="px-2 py-1 text-xs font-semibold text-gray-600 bg-gray-100 border border-gray-200 rounded-lg">⌘K</kbd>
                </div>
              </div>
            </div>
          </div>
        </aside>

        <!-- Products -->
        <section class="xl:col-span-6" data-aos="fade-up" data-aos-duration="800" data-aos-delay="200">
          <!-- Controls: Görüntüle, grid/list, sort -->
          <div class="bg-white rounded-2xl shadow-lg p-6 mb-8 border border-gray-100">
            <div class="flex flex-col md:flex-row md:flex-wrap md:items-center gap-4">
              <!-- View Count Controls -->
              <div class="flex items-center gap-3">
                <span class="text-sm font-semibold text-gray-700 flex items-center gap-2">
                  <i class="fa fa-eye text-brand-accent"></i>
                  Görüntüle:
                </span>
                <div class="flex items-center gap-1 bg-gray-50 rounded-xl p-1">
                  <button class="view-count-btn px-3 py-2 text-sm font-medium text-gray-600 hover:text-brand-primary hover:bg-white rounded-lg transition-all duration-300" data-count="8">8</button>
                  <button class="view-count-btn px-3 py-2 text-sm font-medium text-gray-600 hover:text-brand-primary hover:bg-white rounded-lg transition-all duration-300" data-count="12">12</button>
                  <button class="view-count-btn active px-3 py-2 text-sm font-medium font-bold text-white bg-gradient-to-r from-brand-primary to-brand-accent rounded-lg shadow-lg" data-count="16">16</button>
                  <button class="view-count-btn px-3 py-2 text-sm font-medium text-gray-600 hover:text-brand-primary hover:bg-white rounded-lg transition-all duration-300" data-count="24">24</button>
                  <button class="view-count-btn px-3 py-2 text-sm font-medium text-gray-600 hover:text-brand-primary hover:bg-white rounded-lg transition-all duration-300" data-count="all">Tümü</button>
                </div>
              </div>
              
              <!-- View Toggle Buttons -->
              <div class="flex items-center gap-2">
                <span class="text-sm font-semibold text-gray-700 mr-2">Görünüm:</span>
                <div class="flex bg-gray-50 rounded-xl p-1">
                  <button id="view-list" class="view-toggle-btn p-3 rounded-lg transition-all duration-300" title="Liste Görünümü">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><rect x="4" y="6" width="16" height="2" rx="1"/><rect x="4" y="11" width="16" height="2" rx="1"/><rect x="4" y="16" width="16" height="2" rx="1"/></svg>
                  </button>
                  <button id="view-grid" class="view-toggle-btn active p-3 rounded-lg transition-all duration-300" title="Standart Grid Görünümü">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><rect x="4" y="4" width="7" height="7" rx="1"/><rect x="13" y="4" width="7" height="7" rx="1"/><rect x="4" y="13" width="7" height="7" rx="1"/><rect x="13" y="13" width="7" height="7" rx="1"/></svg>
                  </button>
                  <button id="view-grid-dense" class="view-toggle-btn p-3 rounded-lg transition-all duration-300" title="Yoğun Grid Görünümü">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><rect x="4" y="4" width="4" height="4" rx="1"/><rect x="10" y="4" width="4" height="4" rx="1"/><rect x="16" y="4" width="4" height="4" rx="1"/><rect x="4" y="10" width="4" height="4" rx="1"/><rect x="10" y="10" width="4" height="4" rx="1"/><rect x="16" y="10" width="4" height="4" rx="1"/><rect x="4" y="16" width="4" height="4" rx="1"/><rect x="10" y="16" width="4" height="4" rx="1"/><rect x="16" y="16" width="4" height="4" rx="1"/></svg>
                  </button>
                </div>
              </div>
              
              <!-- Sort Dropdown -->
              <div class="relative md:min-w-[220px] md:self-end w-full">
                <label class="text-sm font-semibold text-gray-700 block mb-2">Sıralama:</label>
                <div class="relative">
                  <select id="sort-method" class="appearance-none bg-white border border-gray-200 rounded-xl px-4 py-3 pr-10 text-sm font-medium text-gray-800 focus:outline-none focus:ring-2 focus:ring-brand-accent/50 focus:border-brand-accent w-full md:min-w-[200px]">
                    <option value="default">Varsayılan Sıralama</option>
                    <option value="name-asc">İsim (A-Z)</option>
                    <option value="name-desc">İsim (Z-A)</option>
                    <option value="brand">Marka</option>
                  </select>
                  <span class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
                  </span>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Loading State -->
          <div id="loading-state" class="hidden text-center py-20">
            <div class="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-brand-primary to-brand-accent rounded-full mb-6">
              <div class="w-8 h-8 border-4 border-white border-t-transparent rounded-full animate-spin"></div>
            </div>
            <h3 class="text-xl font-semibold text-gray-800 mb-2">Ürünler yükleniyor...</h3>
            <p class="text-gray-600">Lütfen bekleyin, ürünler hazırlanıyor.</p>
          </div>
          
          <!-- No Results State -->
          <div id="no-results" class="hidden text-center py-20">
            <div class="w-24 h-24 mx-auto mb-6 bg-gray-100 rounded-full flex items-center justify-center">
              <i class="fa fa-search text-3xl text-gray-400"></i>
            </div>
            <h3 class="text-xl font-semibold text-gray-800 mb-2">Sonuç bulunamadı</h3>
            <p class="text-gray-600 mb-6">Arama kriterlerinizi değiştirerek tekrar deneyin.</p>
            <button id="clear-filters" class="btn-primary px-6 py-3 text-white rounded-xl font-semibold">
              <i class="fa fa-refresh mr-2"></i>Filtreleri Temizle
            </button>
          </div>
          
          <!-- Loading State -->
          <div id="loading-state" class="hidden text-center py-20">
            <div class="loading-shimmer w-full h-64 rounded-2xl mb-6"></div>
            <div class="flex justify-center items-center gap-3">
              <div class="w-4 h-4 bg-brand-primary rounded-full animate-bounce"></div>
              <div class="w-4 h-4 bg-brand-secondary rounded-full animate-bounce" style="animation-delay: 0.1s"></div>
              <div class="w-4 h-4 bg-brand-accent rounded-full animate-bounce" style="animation-delay: 0.2s"></div>
            </div>
            <p class="text-gray-600 mt-4 font-medium">Ürünler yükleniyor...</p>
          </div>
          
          <!-- No Results State -->
          <div id="no-results" class="hidden text-center py-20">
            <div class="w-20 h-20 mx-auto mb-6 bg-gray-100 rounded-full flex items-center justify-center">
              <i class="fa fa-search text-2xl text-gray-400"></i>
            </div>
            <h3 class="text-xl font-bold text-gray-800 mb-3">Ürün bulunamadı</h3>
            <p class="text-gray-600 mb-6 max-w-md mx-auto">Aradığınız kriterlere uygun ürün bulunamadı. Lütfen filtreleri değiştirerek tekrar deneyin.</p>
            <button id="clear-filters" class="btn-primary px-6 py-3 text-white rounded-xl font-semibold transition-all duration-300">
              <i class="fa fa-refresh mr-2"></i>
              Filtreleri Temizle
            </button>
          </div>
          
          <!-- Products Grid -->
          <div id="grid" class="category-grid responsive-grid grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-8 mb-12"></div>
          
          <!-- Pagination -->
          <div id="pagination" class="flex justify-center items-center gap-3 mt-12 mb-20"></div>
        </section>

        <!-- Basket -->
        <aside class="xl:col-span-3" data-aos="fade-left" data-aos-duration="600" data-aos-delay="400">
          <div class="gradient-border rounded-2xl shadow-xl p-6 lg:sticky lg:top-24 backdrop-blur-sm" style="max-height: calc(100vh - 200px); overflow-y: auto;">
            <div class="flex items-center justify-between mb-6">
              <h2 class="text-xl font-bold text-brand-dark flex items-center gap-3">
                <div class="relative">
                  <img src="../assets/images/basketico.PNG" alt="Sepet" class="w-14 h-14 floating-element" />
                  <div class="absolute -top-2 -right-2 w-6 h-6 bg-gradient-to-r from-red-500 to-pink-500 rounded-full flex items-center justify-center">
                    <span id="basket-count" class="text-white text-xs font-bold">0</span>
                  </div>
                </div>
                <div>
                  <span class="block">Sepetim</span>
                  <span class="text-sm text-gray-500 font-normal">Teklif için ürün ekleyin</span>
                </div>
              </h2>
            </div>
            
            <!-- Empty Basket State -->
            <div id="empty-basket" class="text-center py-8">
              <div class="w-20 h-20 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center">
                <i class="fa fa-shopping-basket text-2xl text-gray-400"></i>
              </div>
              <p class="text-gray-500 font-medium mb-2">Sepetiniz boş</p>
              <p class="text-sm text-gray-400">Ürün eklemek için ürünlere tıklayın</p>
            </div>
            
            <!-- Basket Items -->
            <div id="basket-items" class="space-y-3 mb-6 max-h-96 overflow-y-auto"></div>
            
            <!-- Basket Actions -->
            <div class="space-y-3 pt-4 border-t border-gray-200">
              <div class="flex items-center justify-between">
                <button id="clear-basket" class="text-sm text-gray-500 hover:text-red-600 font-medium transition-colors duration-300 flex items-center gap-2">
                  <i class="fa fa-trash"></i>
                  Sepeti Temizle
                </button>
                <span class="text-sm text-gray-600">
                  <span id="basket-total-count">0</span> ürün
                </span>
              </div>
              <button id="send-offer" class="btn-primary w-full px-6 py-4 text-white rounded-xl font-semibold text-center transition-all duration-300 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed">
                <i class="fa fa-paper-plane"></i>
                Teklif İste
              </button>
              <p class="text-xs text-gray-500 text-center">
                Sepetinizdeki ürünler için ücretsiz teklif alın
              </p>
            </div>
          </div>
        </aside>
      </div>
    </div>
  </main>

  <!-- Toast placeholder -->
  <div id="toast" aria-live="polite" class="fixed bottom-8 right-8 z-50 hidden">
    <div id="toast-inner" class="bg-black text-white px-4 py-2 rounded shadow">Sepete eklendi</div>
  </div>

  <!-- Debug panel (hidden by default) -->
  <div id="basket-debug" style="position:fixed;left:12px;bottom:12px;z-index:99999;background:rgba(0,0,0,0.75);color:#fff;padding:8px;border-radius:6px;font-size:12px;max-width:320px;display:none;white-space:pre-wrap;max-height:40vh;overflow:auto;">
    <strong>Basket debug</strong>
    <div id="basket-debug-content" style="margin-top:6px;font-family:monospace;font-size:11px"></div>
    <div style="margin-top:6px;opacity:0.7;font-size:10px">Toggle: Ctrl+Shift+D</div>
  </div>

  <!-- Mobile basket button -->
  <button id="mobile-basket-btn" class="fixed bottom-6 right-6 xl:hidden shadow-2xl bg-gradient-to-r from-brand-primary to-brand-accent text-white rounded-full w-16 h-16 flex items-center justify-center transition-all duration-300 hover:scale-110 hover:shadow-3xl z-50">
    <span class="relative">
      <img src="../assets/images/basketico.PNG" alt="Sepet" class="w-8 h-8 floating-element" />
      <span id="mobile-basket-count" class="absolute -top-3 -right-3 text-xs bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center font-bold animate-pulse">0</span>
    </span>
  </button>

  <!-- Product modal -->
  <div id="product-modal" class="fixed inset-0 z-[10000] hidden items-center justify-center modal-backdrop p-4">
    <div class="modal-content bg-white rounded-2xl shadow-2xl w-full max-w-4xl overflow-hidden border border-gray-100">
      <!-- Modal Header -->
      <div class="flex items-center justify-between px-6 py-4 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-white">
        <h3 id="modal-title" class="text-xl font-bold text-brand-dark flex items-center gap-3">
          <div class="w-2 h-8 bg-gradient-to-b from-brand-primary to-brand-accent rounded-full"></div>
          Ürün Detayı
        </h3>
        <button id="modal-close" class="text-gray-400 hover:text-gray-600 transition-colors duration-300 p-2 hover:bg-gray-100 rounded-full">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
          </svg>
        </button>
      </div>
      
      <!-- Modal Content -->
      <div class="grid md:grid-cols-2 gap-8 p-6">
        <!-- Image Carousel -->
        <div class="relative bg-gray-50 rounded-2xl p-4">
          <img id="modal-image" src="../assets/images/logo.png" alt="Ürün görseli" class="w-full h-80 object-contain rounded-xl transition-all duration-300" />
          <button id="modal-prev" class="absolute left-2 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white rounded-full w-12 h-12 flex items-center justify-center shadow-lg transition-all duration-300 hover:scale-110">
            <svg class="w-5 h-5 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
            </svg>
          </button>
          <button id="modal-next" class="absolute right-2 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white rounded-full w-12 h-12 flex items-center justify-center shadow-lg transition-all duration-300 hover:scale-110">
            <svg class="w-5 h-5 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
            </svg>
          </button>
        </div>
        
        <!-- Product Details -->
        <div class="space-y-6">
          <div>
            <h4 id="modal-name" class="text-2xl font-bold text-brand-dark mb-3">Ürün Adı</h4>
            <div id="modal-desc" class="text-gray-600 leading-relaxed">Ürün açıklaması.</div>
          </div>
          
          <!-- Datasheet Link -->
          <div id="modal-datasheet" class="hidden">
            <a id="datasheet-link" href="#" target="_blank" class="inline-flex items-center gap-3 text-brand-primary hover:text-brand-secondary font-semibold transition-colors duration-300 bg-blue-50 px-4 py-3 rounded-xl">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
              </svg>
              <span>Teknik Döküman İndir (PDF)</span>
            </a>
          </div>
          
          <!-- Action Buttons -->
          <div class="flex gap-3 pt-4">
            <button id="modal-add" class="btn-primary flex-1 text-white px-6 py-4 rounded-xl font-semibold transition-all duration-300 flex items-center justify-center gap-2">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l-2.5-5M17 21v-2a4 4 0 00-4-4H9a4 4 0 00-4 4v2"/>
              </svg>
              Sepete Ekle
            </button>
            <button id="modal-close-2" class="border-2 border-gray-200 text-gray-700 px-6 py-4 rounded-xl font-semibold hover:bg-gray-50 transition-all duration-300">
              Kapat
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Her resim için bir ürün: klasörler kategoriye göre eşlendi
    const PRODUCTS = [
      // 2 Kablolu IP Sistemleri
      {
        id:'c3151-02917',
        cat:'twire',
        name:'Akuvox C315 - 7” Android',
        desc:'7” Android daire içi panel',
        brand:'Akuvox',
        conn:['WiFi'],
        images:['../assets/images/products/2wireintercom/c3151-02917.jpg'],
        details:`<div class='mb-2'>7” dokunmatik ekranlı, Android tabanlı daire içi panel. Uygun maliyetle yüksek performans, şık görünüm ve kaliteyi bir arada sunar. Kullanıcı dostu arayüzü ve premium ses/görüntü kalitesiyle projeleriniz için idealdir.</div>
        <ul class='text-sm text-gray-700 pl-4 list-disc'>
          <li><b>Ekran:</b> 7” kapasitif dokunmatik TFT, 1024x600 çözünürlük, 16M renk, 16:9 oran</li>
          <li><b>İşletim Sistemi:</b> Android OS</li>
          <li><b>Ses/Görüntü:</b> Premium kalite, H.264 desteği</li>
          <li><b>Güç:</b> PoE enerji besleme</li>
          <li><b>Parlaklık:</b> 270 nits</li>
          <li><b>Kontrast:</b> 800:1</li>
          <li><b>Görüş Açısı:</b> 75° sol/sağ, 70° yukarı, 75° aşağı</li>
          <li><b>Fiziksel Boyut:</b> 200x132x27mm</li>
          <li><b>Arayüz:</b> 2 x RJ45 Ethernet, 1 röle çıkışı, 8 I/O güvenlik bağlantısı, RS485 portu</li>
          <li><b>Alarm sistemine entegrasyon</b></li>
        </ul>`
      },
      { id:'e121av', cat:'twire', name:'E121', desc:'2 Kablolu IP Panel', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/2wireintercom/e121-00307.jpg'] },
      { id:'ns1-05948', cat:'twire', name:'NS1', desc:'2 Kablolu IP Ağ Anahtarı', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/2wireintercom/ns1-05948.jpg'] },
      { id:'ns2-05937', cat:'twire', name:'NS2', desc:'2 Kablolu IP Ağ Anahtarı', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/2wireintercom/ns2-05937.jpg'] },
      { id:'r20k-04803-05251', cat:'twire', name:'R20K', desc:'Kompakt, Numerik Tuş Takımlı, 2MP Kamera, IP65, PoE, ONVIF, SIP, Linux, RFID', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/2wireintercom/r20k-04803-05251.jpg'],
        details:`<div class='mb-2'>Akuvox R20K, kompakt yapısı ve entegre numerik tuş takımıyla, sınırlı montaj alanına sahip apartman ve site girişleri için güvenli ve pratik bir çözümdür. Ziyaretçileri sesli ve görüntülü olarak doğrulama imkânı sunar, kapı erişimini şifre ile kolayca yönetmenizi sağlar.</div>
        <div class='mb-2'><a href='https://www.akuvoxinterkom.com/dosyalar/55324-r20k-sip-video-door-phone.pdf' target='_blank' class='text-brand-primary underline font-semibold'>Teknik döküman (PDF)</a></div>
        <ul class='text-sm text-gray-700 pl-4 list-disc'>
          <li><b>Tuş Takımı:</b> Sayısal, ekstra tuşlu</li>
          <li><b>Gövde:</b> Vandalizme dayanıklı alüminyum</li>
          <li><b>Kamera:</b> 2MP CMOS, 110° (Y), 58° (D), LED aydınlatmalı gece modu, otomatik beyaz dengesi, min. aydınlatma 0.1LUX</li>
          <li><b>Video:</b> 1080p’ye kadar (CIF ~ 1080p), H.264, H.265, ONVIF uyumlu, 3. parti NVR/video sistemleri ile uyumlu</li>
          <li><b>Ses:</b> G.711a, G.711μ, G.729, G.722, yankı önleyici, gürültü bastırıcı, DTMF (RFC2833)</li>
          <li><b>Bağlantı:</b> Ethernet (RJ45), PoE, SIP v1/v2, RFID</li>
          <li><b>Yönetim:</b> Web portalı, yapılandırma yedekleme/geri yükleme, yazılım güncelleme, sistem logları</li>
          <li><b>Montaj:</b> Kompakt tasarım, sınırlı alanlar için ideal</li>
        </ul>`
      },
      { id:'untitled-44-05734', cat:'twire', name:'Untitled', desc:'2 Kablolu IP Panel', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/2wireintercom/untitled-44-05734.png'] },
      // Access Kontrol
      { id:'a01-70903', cat:'access', name:'A01', desc:'IP Access Kontrol Terminali', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/accesscontrol/a01-70903.png'] },
      { id:'a02-70842', cat:'access', name:'A02', desc:'IP Access Kontrol Terminali', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/accesscontrol/a02-70842.png'] },
      { id:'a03-70822', cat:'access', name:'A03', desc:'IP Access Kontrol Terminali', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/accesscontrol/a03-70822.png'] },
      { id:'a05-70052', cat:'access', name:'A05', desc:'IP Access Kontrol Terminali', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/accesscontrol/a05-70052.png'] },
      { id:'a08-70217', cat:'access', name:'A08', desc:'IP Access Kontrol Terminali', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/accesscontrol/a08-70217.png'] },
      { id:'a094-65835', cat:'access', name:'A094', desc:'IP Access Kontrol Terminali', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/accesscontrol/a094-65835.png'] },
      { id:'a094-65835-1', cat:'access', name:'A094', desc:'IP Access Kontrol Terminali', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/accesscontrol/a094-65835 (1).png'] },
      { id:'akuvox-bkey-bluetooth-access-key-copy', cat:'access', name:'BKey', desc:'Bluetooth Access Key', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/accesscontrol/akuvox-bkey-bluetooth-access-key-copy.jpg'] },
      { id:'card-reader-43851', cat:'access', name:'Card Reader', desc:'Kart Okuyucu', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/accesscontrol/card-reader-43851.png'] },
      { id:'crm11-64259', cat:'access', name:'CRM11', desc:'Access Kontrol Modülü', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/accesscontrol/crm11-64259.png'] },
      { id:'crp11-60242', cat:'access', name:'CRP11', desc:'Access Kontrol Modülü', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/accesscontrol/crp11-60242.png'] },
      { id:'ec33-70751', cat:'access', name:'EC33', desc:'Asansör Erişim Kontrol Cihazı', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/accesscontrol/ec33-70751.png'] },
      { id:'sr01-70924', cat:'access', name:'SR01', desc:'Güvenlik Rölesi', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/accesscontrol/sr01-70924.png'] },
      // Akıllı Ev Ürünleri (Akubela)
      { id:'c6_smartlock', cat:'kilit', name:'C6 Smartlock', desc:'Akubela Akıllı Kilit', brand:'Akubela', conn:['Zigbee'], images:['../assets/images/products/akubela/c6_smartlock.png'] },
      { id:'f2_smartlock', cat:'kilit', name:'F2 Smartlock', desc:'Akubela Akıllı Kilit', brand:'Akubela', conn:['Zigbee'], images:['../assets/images/products/akubela/f2_smartlock.png'] },
      { id:'HyPanel KeyPlus-Front', cat:'hypanel', name:'HyPanel KeyPlus', desc:'Akubela HyPanel KeyPlus', brand:'Akubela', conn:['KNX','Zigbee'], images:['../assets/images/products/akubela/HyPanel KeyPlus-Front.avif'] },
      { id:'HyPanel Pro-Front', cat:'hypanel', name:'HyPanel Pro', desc:'Akubela HyPanel Pro', brand:'Akubela', conn:['KNX','Zigbee'], images:['../assets/images/products/akubela/HyPanel Pro-Front.avif'] },
      { id:'hypanel_elite7', cat:'hypanel', name:'HyPanel Elite7', desc:'Akubela HyPanel Elite7', brand:'Akubela', conn:['KNX','Zigbee'], images:['../assets/images/products/akubela/hypanel_elite7.avif'] },
      { id:'hypanel_lite', cat:'hypanel', name:'HyPanel Lite', desc:'Akubela HyPanel Lite', brand:'Akubela', conn:['KNX','Zigbee'], images:['../assets/images/products/akubela/hypanel_lite.avif'] },
      { id:'hypanel_lux', cat:'hypanel', name:'HyPanel Lux', desc:'Akubela HyPanel Lux', brand:'Akubela', conn:['KNX','Zigbee'], images:['../assets/images/products/akubela/hypanel_lux.avif'] },
      { id:'hypanel_lux-1', cat:'hypanel', name:'HyPanel Lux', desc:'Akubela HyPanel Lux', brand:'Akubela', conn:['KNX','Zigbee'], images:['../assets/images/products/akubela/hypanel_lux (1).avif'] },
      { id:'hypanel_lux_ring', cat:'hypanel', name:'HyPanel Lux Ring', desc:'Akubela HyPanel Lux Ring', brand:'Akubela', conn:['KNX','Zigbee'], images:['../assets/images/products/akubela/hypanel_lux_ring.avif'] },
      { id:'hypanel_plus', cat:'hypanel', name:'HyPanel Plus', desc:'Akubela HyPanel Plus', brand:'Akubela', conn:['KNX','Zigbee'], images:['../assets/images/products/akubela/hypanel_plus.avif'] },
      { id:'hypanel_supreme', cat:'hypanel', name:'HyPanel Supreme', desc:'Akubela HyPanel Supreme', brand:'Akubela', conn:['KNX','Zigbee'], images:['../assets/images/products/akubela/hypanel_supreme.avif'] },
      { id:'hypanel_ultra', cat:'hypanel', name:'HyPanel Ultra', desc:'Akubela HyPanel Ultra', brand:'Akubela', conn:['KNX','Zigbee'], images:['../assets/images/products/akubela/hypanel_ultra.avif'] },
      { id:'HyPanel-F', cat:'hypanel', name:'HyPanel F', desc:'Akubela HyPanel F', brand:'Akubela', conn:['KNX','Zigbee'], images:['../assets/images/products/akubela/HyPanel-F.avif'] },
      { id:'sl50_smartlock', cat:'kilit', name:'SL50 Smartlock', desc:'Akubela Akıllı Kilit', brand:'Akubela', conn:['Zigbee'], images:['../assets/images/products/akubela/sl50_smartlock.png'] },
      { id:'sl60_smartlock', cat:'kilit', name:'SL60 Smartlock', desc:'Akubela Akıllı Kilit', brand:'Akubela', conn:['Zigbee'], images:['../assets/images/products/akubela/sl60_smartlock.png'] },
      { id:'Smartpanel', cat:'hypanel', name:'Smartpanel', desc:'Akubela Smartpanel', brand:'Akubela', conn:['KNX','Zigbee'], images:['../assets/images/products/akubela/Smartpanel.png'] },
      { id:'smartpanelpro', cat:'hypanel', name:'Smartpanel Pro', desc:'Akubela Smartpanel Pro', brand:'Akubela', conn:['KNX','Zigbee'], images:['../assets/images/products/akubela/smartpanelpro.png'] },
      // Kapı Önü Ziller
      { id:'e12', cat:'door', name:'E12', desc:'2MP Kamera, IP65, PoE, ONVIF, SIP, Linux, RFID, BLE, Kompakt Tasarım', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/doorbell/VillaTipi-AkuvoxE12.png'],
        details:`<div class='mb-2'>Akuvox E12, villalar ve apartman daireleri gibi çeşitli iç kapı uygulamaları için tasarlanmış, tek tuşlu kompakt bir IP kapı panelidir. İnce gövdesine rağmen şık ve dikkat çekici tasarımıyla estetikten ödün vermeden güvenli iletişim sağlar.</div>
        <div class='mb-2 font-semibold'>Model Seçenekleri:</div>
        <ul class='mb-2 text-sm text-gray-700 pl-4 list-disc'>
          <li><b>E12S:</b> Standart model</li>
          <li><b>E12W:</b> Wi-Fi destekli model</li>
        </ul>
        <div class='mb-2'><a href='https://www.akuvoxinterkom.com/dosyalar/akuvox-e12s-datasheet.pdf' target='_blank' class='text-brand-primary underline font-semibold'>Akuvox E12S Datasheet (PDF)</a></div>
        <div class='mb-2'><a href='https://www.akuvoxinterkom.com/dosyalar/akuvox-e12w-datasheet.pdf' target='_blank' class='text-brand-primary underline font-semibold'>Akuvox E12W Datasheet (PDF)</a></div>
        <ul class='text-sm text-gray-700 pl-4 list-disc'>
          <li><b>Panel:</b> Plastik ön panel, tek çağrı butonu</li>
          <li><b>Kamera:</b> 2MP, otomatik ışık, 0.1 LUX min. aydınlatma, otomatik beyaz dengesi</li>
          <li><b>Bağlantı:</b> Ethernet (RJ45), PoE (802.3af), BLE, ONVIF, SIP v1/v2, RFID</li>
          <li><b>Montaj:</b> Sıva üstü, 146x70x23mm</li>
          <li><b>Dayanıklılık:</b> IP65 suya ve toza dayanıklı, vandal alarm</li>
          <li><b>Ses:</b> Mikrofon (-36dB), hoparlör (8Ω/1.5W), iki yönlü iletişim, gürültü önleyici</li>
          <li><b>Giriş/Çıkış:</b> 1 röle çıkışı, 2 input, micro SD kart yuvası</li>
          <li><b>Yönetim:</b> Web portalı, otomatik provizyon, yedekleme/geri yükleme, sistem güncelleme</li>
          <li><b>Ek Özellikler:</b> Işığa duyarlı sensör</li>
          <li><b>Çalışma Sıcaklığı:</b> -30°C ~ +65°C</li>
        </ul>`
      },
      { id:'db01', cat:'door', name:'DB01', desc:'2MP Kamera, PoE, ONVIF, SIP, Linux, Analog Dönüştürücü, 136° geniş açı', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/doorbell/db01-10421.png'],
      details:`<div class='mb-2'>Akuvox DB01, analog kapı zili sistemlerini IP tabanlı akıllı interkom çözümlerine dönüştürmek için tasarlanmış, dayanıklı ve yüksek performanslı bir dijital dönüştürücüdür. Modern erişim kontrolü avantajlarını mevcut altyapınızda sunar.</div>
      <div class='mb-2'><a href='https://www.akuvoxinterkom.com/dosyalar/db01-datasheet.pdf' target='_blank' class='text-brand-primary underline font-semibold'>Teknik döküman (PDF)</a></div>
      <ul class='text-sm text-gray-700 pl-4 list-disc'>
        <li><b>Kamera:</b> 2MP, 136° (Y) / 90° (D) geniş açı, otomatik aydınlatma, sürekli aktif</li>
        <li><b>Geçiş Seçenekleri:</b> Tek buton, analogdan dijitale geçiş</li>
        <li><b>Dayanıklılık:</b> İç ortam, plastik gövde, LED gece modu</li>
        <li><b>Bağlantı:</b> Ethernet (RJ45), PoE, SIP v1/v2, ONVIF, 12V DC (PoE yoksa)</li>
        <li><b>Röle:</b> 1 adet kuru kontak, 1 input</li>
        <li><b>Ses:</b> Mikrofon ve hoparlör, yankı engelleme</li>
        <li><b>Yönetim:</b> Web yönetim portalı, uzaktan erişim, otomatik sağlama</li>
        <li><b>Montaj:</b> Duvara monte, yüzeye montaj</li>
        <li><b>Çalışma Sıcaklığı:</b> -20°C ~ +55°C</li>
        <li><b>Video:</b> 1920x1080p’ye kadar, H.264, 25fps</li>
        <li><b>Boyutlar:</b> 146 x 70 x 23 mm</li>
      </ul>`
      },      { id:'e16c', cat:'door', name:'E16C', desc:'5” IPS LCD, 2MP Çift Kamera, Yüz Tanıma, IP65, PoE, NFC, RFID, QR, BLE, SIP, Linux', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/doorbell/e161-04401.png'],
        details:`<div class='mb-2'>Akuvox E16 serisi, hem interkom hem de erişim kontrolü için tasarlanmış, yüksek güvenlikli ve kullanıcı dostu bir çözümdür. Çift IR kamera ve gelişmiş derin öğrenme algoritması ile hareket algılama ve yüz tanıma süreçlerinde üstün performans sunar. Temassız geçiş ve sağlık odaklı kontrol seçenekleriyle öne çıkar.</div>
        <div class='mb-2'><a href='https://www.akuvoxinterkom.com/dosyalar/akuvox-e16c-datasheet.pdf' target='_blank' class='text-brand-primary underline font-semibold'>Teknik döküman (PDF)</a></div>
        <div class='mb-2'><b>Modeller:</b> E16C (standart), E16C+MD01 (bilekten sıcaklık ölçüm modüllü), E16C+MD02 (alından sıcaklık ölçüm modüllü)</div>
        <ul class='text-sm text-gray-700 pl-4 list-disc'>
          <li><b>Ekran:</b> 5” IPS LCD, 1280x720 çözünürlük</li>
          <li><b>Kamera:</b> 2MP çift kamera, WDR, IR, foto/video saldırılarına karşı sahtecilik önleme</li>
          <li><b>Geçiş Seçenekleri:</b> Yüz, PIN, NFC, RFID Kart, Bluetooth, QR kod</li>
          <li><b>Yüz Tanıma:</b> <0.2s tanıma süresi, >99.7% doğruluk, 20.000 yüz kapasitesi</li>
          <li><b>Kart Kapasitesi:</b> 20.000 kart</li>
          <li><b>Olay Günlüğü:</b> 50.000 kayıt</li>
          <li><b>Bağlantı:</b> Ethernet (RJ45), PoE, RS485, Wiegand</li>
          <li><b>Montaj:</b> Sıva üstü</li>
          <li><b>Dayanıklılık:</b> IP65 suya ve toza dayanıklı</li>
          <li><b>Çalışma Sıcaklığı:</b> -20°C ~ +55°C</li>
          <li><b>Ses:</b> G.711a, G.711μ, G.729, G.722, yankı azaltma</li>
          <li><b>Ek Özellikler:</b> Sıcaklık ölçüm modülleri (MD01: bilekten, MD02: alından), web yönetim portalı, SIP v1/v2, ONVIF uyumlu</li>
        </ul>`
      },
      { id:'e18', cat:'door', name:'E18C', desc:'7” IPS LCD, 2MP Çift Kamera, Yüz Tanıma, IP65, PoE, NFC, RFID, QR, BLE, SIP, Linux', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/doorbell/e18-03827.png'],
        details:`<div class='mb-2'>Akuvox E18C, 7” dokunmatik ekranı ve gelişmiş yüz tanıma teknolojisiyle temassız geçiş kontrolünü erişilebilir hale getirir. Konut ve ticari projeler için bütçe dostu, güvenilir bir çözüm sunar.</div>
        <div class='mb-2'><a href='https://www.akuvoxinterkom.com/dosyalar/akuvox-e18c-datasheet.pdf' target='_blank' class='text-brand-primary underline font-semibold'>Teknik döküman (PDF)</a></div>
        <ul class='text-sm text-gray-700 pl-4 list-disc'>
          <li><b>Ekran:</b> 7” IPS LCD, 1024x600 çözünürlük</li>
          <li><b>Kamera:</b> 2MP çift kamera, WDR, görünür ışık yüz tanıma</li>
          <li><b>Geçiş Seçenekleri:</b> Yüz, PIN, NFC, RFID Kart, BLE, QR kod</li>
          <li><b>Yüz Tanıma:</b> <0.2s tanıma süresi, >99.7% doğruluk, 20.000 yüz kapasitesi</li>
          <li><b>Kart Kapasitesi:</b> 20.000 kart</li>
          <li><b>Olay Günlüğü:</b> 50.000 kayıt</li>
          <li><b>Bağlantı:</b> Ethernet (RJ45), PoE, RS485, Wiegand, TF kart yuvası</li>
          <li><b>Montaj:</b> Sıva üstü, 275x120x34.6mm</li>
          <li><b>Dayanıklılık:</b> IP65 suya ve toza dayanıklı</li>
          <li><b>Çalışma Sıcaklığı:</b> -20°C ~ +55°C</li>
          <li><b>Ses:</b> G.711a, G.711μ, G.729, G.722, yankı azaltma</li>
          <li><b>Yönetim:</b> Web tarayıcısı ile yapılandırma, SIP v1/v2, ONVIF uyumlu</li>
        </ul>`
      },
      { id:'e20-05454', cat:'door', name:'E20S', desc:'IP65, PoE, SIP, Paslanmaz Çelik, Acil Durum, Panik Butonu', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/doorbell/e20-05454.png'],
        details:`<div class='mb-2'>Akuvox E20S, acil durumlar için tasarlanmış, 316 kalite paslanmaz çelikten üretilmiş, kompakt ve dayanıklı SIP interkom panelidir. Güçlü ve net ses kalitesi ile neredeyse yüz yüze konuşma hissi verir.</div>
        <ul class='text-sm text-gray-700 pl-4 list-disc'>
          <li><b>Gövde:</b> 316 kalite paslanmaz çelik, alüminyum kasa</li>
          <li><b>Buton:</b> Tek panik/arama tuşu</li>
          <li><b>Dayanıklılık:</b> IP65 suya ve toza dayanıklı, tamper alarmı (G-Sensör)</li>
          <li><b>Bağlantı:</b> Ethernet (RJ45), PoE, SIP, RS485 portu</li>
          <li><b>Ses:</b> Echo Cancellation, iki yönlü ses, grup konferans desteği</li>
          <li><b>Yönetim:</b> Web tabanlı konfigürasyon, SNMP ve TR069 desteği</li>
          <li><b>Montaj:</b> Sıva altı veya üstü, 100 x 100 x 38 mm</li>
          <li><b>Çalışma Sıcaklığı:</b> (datasheet üzerinden eklenebilir)</li>
        </ul>`
      },
      { id:'e21av', cat:'door', name:'E21AV', desc:'2MP Kamera, IP65, PoE, ONVIF, SIP, Paslanmaz Çelik, Acil Durum, Panik Butonu', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/doorbell/e21-05617.png'],
        details:`<div class='mb-2'>Akuvox E21AV, zorlu dış ortam koşulları ve acil durum uygulamaları için tasarlanmış, 316 kalite paslanmaz çelik gövdeye sahip, saldırılara karşı dayanıklı SIP interkom panelidir. Premium ses ve görüntü kalitesi ile güvenliğinizi en üst seviyeye taşır.</div>
        <div class='mb-2 text-sm text-gray-800'>E21V: Kameralı model &nbsp;|&nbsp; E21A: Kamersız model</div>
        <div class='mb-2'><a href='https://www.akuvoxinterkom.com/dosyalar/akuvox-e21v-datasheet.pdf' target='_blank' class='text-brand-primary underline font-semibold'>Akuvox E21V Datasheet</a></div>
        <div class='mb-2'><a href='https://www.akuvoxinterkom.com/dosyalar/akuvox-e21a-datasheet.pdf' target='_blank' class='text-brand-primary underline font-semibold'>Akuvox E21A Datasheet</a></div>
        <ul class='text-sm text-gray-700 pl-4 list-disc'>
          <li><b>Ön Panel:</b> 316 kalite paslanmaz çelik</li>
          <li><b>Kamera:</b> 2MP, otomatik aydınlatma, sürekli aktif, IR gece görüş (E21V)</li>
          <li><b>Buton:</b> 1 panik/arama butonu, 1 reset butonu</li>
          <li><b>Dayanıklılık:</b> IP65 suya ve toza dayanıklı, saldırılara karşı korumalı</li>
          <li><b>Bağlantı:</b> Ethernet (RJ45), PoE (802.3af), SIP v1/v2, ONVIF</li>
          <li><b>Röle:</b> 2 adet kuru kontak, 2 input</li>
          <li><b>Ses:</b> Mikrofon, hoparlör, premium ses kalitesi</li>
          <li><b>Yönetim:</b> Web yönetim portalı, otomatik provizyon, uzaktan erişim</li>
          <li><b>Montaj:</b> Sıva altı, 210 x 120 x 61 mm</li>
          <li><b>Çalışma Sıcaklığı:</b> -20°C ~ +55°C</li>
          <li><b>Video:</b> 1920x1080p’ye kadar, H.264 (E21V)</li>
        </ul>`
      },
      { id:'r20a', cat:'door', name:'R20A', desc:'Kompakt Tasarım, 2MP Kamera, IP65, PoE, ONVIF, SIP, Linux, RFID, NFC, 110° geniş açı', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/doorbell/r20a.png'],
        details:`<div class='mb-2'>Akuvox R20A, kompakt tasarımı ve güçlü özellikleriyle villa, müstakil ev ve ofisler için ideal bir SIP kapı önü interkom panelidir. Küçük boyutuna rağmen yüksek performans ve güvenlik sunar.</div>
        <div class='mb-2'><a href='https://www.akuvoxinterkom.com/dosyalar/akuvox_r20a_datasheet.pdf' target='_blank' class='text-brand-primary underline font-semibold'>Teknik döküman (PDF)</a></div>
        <ul class='text-sm text-gray-700 pl-4 list-disc'>
          <li><b>Ön Panel:</b> Alüminyum</li>
          <li><b>Kamera:</b> 2MP, 110° (Y) / 58° (D) geniş açı, otomatik aydınlatma, IR gece görüş</li>
          <li><b>RF Kart Okuyucu:</b> 13.56MHz (NFC destekli) & 125kHz</li>
          <li><b>Dayanıklılık:</b> IP65 suya ve toza dayanıklı</li>
          <li><b>Bağlantı:</b> Ethernet (RJ45), PoE (IEEE802.3af), SIP v1/v2, ONVIF, Wiegand portu</li>
          <li><b>Röle:</b> 2 adet kuru kontak</li>
          <li><b>Ses:</b> Mikrofon, hoparlör, G.711a, G.711μ, G.729, G.722, yankı önleyici, konfor gürültü önleyici</li>
          <li><b>Yönetim:</b> Web yönetim portalı, uzaktan erişim, yedekleme/geri yükleme</li>
          <li><b>Montaj:</b> Sıva altı: 189 x 120 x 56.5 mm, Sıva üstü: 145 x 85 x 27.5 mm</li>
          <li><b>Çalışma Sıcaklığı:</b> -40°C ~ +65°C</li>
          <li><b>Video:</b> 1920x1080p’ye kadar, H.264, H.265, 25fps</li>
        </ul>`
      },
      { id:'r25a-10647', cat:'door', name:'R25A', desc:'4MP Kamera, IP65, PoE, ONVIF, SIP, Linux, RFID, NFC, 150° geniş açı', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/doorbell/r25a-10647.png'],
        details:`<div class='mb-2'>Akuvox R25A, 150° geniş açılı 4MP kamerası ve 2K yüksek çözünürlüklü görüntü kalitesiyle villa, müstakil ev ve ofisler için üst düzey interkom deneyimi sunar. SIP ve ONVIF desteği, RFID/NFC kart okuyucu ve PoE bağlantısı ile güvenli ve modern bir çözüm sağlar.</div>
        <div class='mb-2'><a href='https://www.akuvoxinterkom.com/dosyalar/22236-akuvox_r25a_datasheet_v1-0.pdf' target='_blank' class='text-brand-primary underline font-semibold'>Teknik döküman (PDF)</a></div>
        <ul class='text-sm text-gray-700 pl-4 list-disc'>
          <li><b>Kamera:</b> 4MP, 150° geniş açı, otomatik aydınlatma, sürekli aktif</li>
          <li><b>Geçiş Seçenekleri:</b> RFID kart (13.56MHz & 125kHz), NFC</li>
          <li><b>Dayanıklılık:</b> IP65 suya dayanıklı, LED gece modu</li>
          <li><b>Bağlantı:</b> Ethernet (RJ45), PoE (802.3af), SIP v1/v2, ONVIF</li>
          <li><b>Röle:</b> 2 adet kuru kontak, DTMF ile ayrı ayrı kontrol</li>
          <li><b>Ses:</b> G.711a, G.711μ, G.722, yankı engelleme</li>
          <li><b>Yönetim:</b> Web tarayıcısı ile yapılandırma, uzaktan erişim</li>
          <li><b>Montaj:</b> Sıva altı & sıva üstü</li>
          <li><b>Çalışma Sıcaklığı:</b> -20°C ~ +55°C</li>
          <li><b>Video:</b> 2K çözünürlük, H.264</li>
          <li><b>Boyutlar:</b> (datasheet üzerinden eklenebilir)</li>
        </ul>`
    },
      { id:'r27a', cat:'door', name:'R27A', desc:'2MP Kamera, IP65, PoE, ONVIF, SIP, Linux, RFID, Numerik Tuş Takımı', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/doorbell/r27a.png'],
        details:`<div class='mb-2'>Akuvox R27A serisi, numerik tuş takımı, suya/toza/darbeye dayanıklı alüminyum gövde ve geniş açılı kamerası ile bina girişlerinde güvenlik ve konfor sağlar. RFID kart veya şifre ile kapı açma seçenekleri sunar.</div>
        <div class='mb-2'><a href='https://www.akuvoxinterkom.com/dosyalar/akuvox-r27a-datasheet.pdf' target='_blank' class='text-brand-primary underline font-semibold'>Teknik döküman (PDF)</a></div>
        <ul class='text-sm text-gray-700 pl-4 list-disc'>
          <li><b>Ön Panel:</b> Alüminyum, ekstra butonlu numerik tuş takımı</li>
          <li><b>Kamera:</b> 2MP, otomatik aydınlatmalı, 116° (Y), 60° (D)</li>
          <li><b>Ekran:</b> Yok</li>
          <li><b>Geçiş Seçenekleri:</b> RFID kart (13.56MHz & 125kHz), PIN</li>
          <li><b>Dayanıklılık:</b> IP65 suya, darbeye dayanıklı</li>
          <li><b>Bağlantı:</b> Ethernet (RJ45), PoE, RS485, Wiegand</li>
          <li><b>Montaj:</b> Sıva altı: 280x130x68mm, Sıva üstü: 280x130x38mm</li>
          <li><b>Çalışma Sıcaklığı:</b> -20°C ~ +55°C</li>
          <li><b>Video:</b> H.264, H.265, 1920x1080p’ye kadar, 30fps, IR LED gece görüş</li>
          <li><b>Ses:</b> G.711a, G.711μ, G.729, G.722, yankı azaltma</li>
          <li><b>Diğer:</b> Web yönetim portalı, otomatik gece modu, SIP v1/v2, ONVIF uyumlu</li>
        </ul>`
      },
      { id:'r28a', cat:'door', name:'R28A', desc:'IP65, 2MP Kamera, 4.3” TFT LCD, Kartlı Geçiş, PoE, SIP, ONVIF', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/doorbell/r28a.png'],
        details:`<div class='mb-2'>Akuvox R28A, yüksek dayanıklılık ve çoklu geçiş seçenekleriyle apartman ve ticari binalar için güvenli bir IP interkom panelidir.</div>
        <div class='mb-2'><a href='https://www.akuvoxinterkom.com/dosyalar/akuvox-r28a-datasheet.pdf' target='_blank' class='text-brand-primary underline font-semibold'>Teknik döküman (PDF)</a></div>
        <ul class='text-sm text-gray-700 pl-4 list-disc'>
          <li><b>Ekran:</b> 4.3” renkli TFT LCD</li>
          <li><b>Kamera:</b> 2MP, otomatik aydınlatmalı</li>
          <li><b>Geçiş Seçenekleri:</b> Kartlı geçiş, PIN</li>
          <li><b>Dayanıklılık:</b> IP65 suya, alüminyum gövde</li>
          <li><b>Bağlantı:</b> Ethernet (RJ45), PoE, RS485, Wiegand, Bluetooth</li>
          <li><b>Montaj:</b> Sıva altı & sıva üstü</li>
          <li><b>Boyutlar:</b> 280 x 130 x 38 mm</li>
          <li><b>Çalışma Sıcaklığı:</b> -20°C ~ +55°C</li>
          <li><b>Video:</b> H.264, 1920x1080 @ 30fps</li>
          <li><b>Ses:</b> G.711a, G.711μ, G.729</li>
        </ul>`
      },
      { id:'r29s', cat:'door', name:'R29S-C', desc:'7” Dokunmatik Ekran, 3MP Kamera, Yüz Tanıma, IP65, IK06, PoE, ONVIF, SIP, Android', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/doorbell/r29s.png'],
        details:`<div class='mb-2'>Akuvox R29S-C, gelişmiş yüz tanıma teknolojisi ve çoklu geçiş seçenekleriyle modern binalar için üst düzey güvenlik ve erişim kontrolü sunan bir IP interkom panelidir.</div>
        <div class='mb-2'><a href='https://www.akuvoxinterkom.com/dosyalar/akuvox-x29s-datasheet.pdf' target='_blank' class='text-brand-primary underline font-semibold'>Akuvox X29S Datasheet (PDF)</a></div>
        <div class='mb-2'><a href='https://www.akuvoxinterkom.com/dosyalar/akuvox-r29c-datasheet.pdf' target='_blank' class='text-brand-primary underline font-semibold'>Akuvox R29C Datasheet (PDF)</a></div>
        <div class='mb-2 font-semibold'>Modeller:</div>
        <ul class='text-sm text-gray-700 pl-4 list-disc mb-2'>
          <li><b>R29C:</b> İki kameralı, derinlik destekli yüz tanıma</li>
          <li><b>R29CT:</b> İki kameralı, derinlik destekli yüz tanıma + parmak izi okuyucu</li>
          <li><b>R29S:</b> Tek kameralı, standart versiyon</li>
          <li><b>R29CB:</b> İki kameralı, derinlik destekli yüz tanıma + yüz sıcaklığı ölçümü</li>
        </ul>
        <ul class='text-sm text-gray-700 pl-4 list-disc'>
          <li><b>Ekran:</b> 7” kapasitif dokunmatik ekran</li>
          <li><b>Kamera:</b> 2MP, 120° geniş açılı, otomatik aydınlatmalı</li>
          <li><b>Geçiş Seçenekleri:</b> Yüz tanıma, kart, PIN, Bluetooth, QR kod</li>
          <li><b>Dayanıklılık:</b> IP65 suya, IK08 darbeye dayanıklı, alüminyum gövde</li>
          <li><b>Bağlantı:</b> Ethernet (RJ45), PoE, RS485, Wiegand, Bluetooth</li>
          <li><b>Montaj:</b> Sıva altı & sıva üstü</li>
          <li><b>Boyutlar:</b> 273 × 130 × 28 mm</li>
          <li><b>Çalışma Sıcaklığı:</b> -20°C ~ +55°C</li>
          <li><b>Video:</b> H.264, 1920x1080 @ 30fps</li>
          <li><b>Ses:</b> G.711a, G.711μ, G.722, yankı engelleme</li>
        </ul>`
      },
      { id:'s532', cat:'door', name:'S532', desc:'2.8” LCD, 2MP Kamera, IP66, IK08, BLE, PoE, ONVIF, SIP, LINUX', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/doorbell/s532.png'],
        details:`<div class='mb-2'>Akuvox S532, numerik tuş takımıyla hızlı ve güvenli erişim sağlayan, modern güvenlik ihtiyaçlarına eksiksiz çözüm sunan IP interkom panelidir. Şık tasarımı, geniş açılı kamerası ve çoklu kimlik doğrulama seçenekleriyle apartman, rezidans ve ofisler için idealdir.</div>
        <div class='mb-2'><a href='https://www.akuvoxinterkom.com/dosyalar/akuvox-s532-datasheet.pdf' target='_blank' class='text-brand-primary underline font-semibold'>Teknik döküman (PDF)</a></div>
        <ul class='text-sm text-gray-700 pl-4 list-disc'>
          <li><b>Ekran:</b> 2.8” LCD</li>
          <li><b>Kamera:</b> 2MP, 130° (H), 90° (V), otomatik aydınlatma, gece modu</li>
          <li><b>İşletim Sistemi:</b> Linux</li>
          <li><b>Geçiş Seçenekleri:</b> RFID kart, PIN, Bluetooth</li>
          <li><b>Dayanıklılık:</b> IP66 suya, IK08 darbeye dayanıklı, alüminyum gövde</li>
          <li><b>Bağlantı:</b> Ethernet (RJ45), PoE, RS485, Wiegand, Line out, Bluetooth</li>
          <li><b>Montaj:</b> Sıva altı & sıva üstü</li>
          <li><b>Boyutlar:</b> 310 × 106 × 37.8 mm</li>
          <li><b>Çalışma Sıcaklığı:</b> -40°C ~ +60°C</li>
          <li><b>Video:</b> H.264, 1920x1080 @ 30fps, IR LED gece görüş</li>
          <li><b>Ses:</b> G.711a, G.711μ, G.722, yankı engelleme</li>
        </ul>`
      },
  { id:'s535', cat:'door', name:'S535', desc:'5” IPS LCD, 2MP Kamera, IP66, IK08, BLE, HDR, ONVIF, SIP, Linux, 1080p, RFID, QR Kod, Yüz Tanıma, Modüler', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/doorbell/s535.png'],
        details:`<div class='mb-2'>Akuvox S535, modüler yapısı ve yenilikçi donanım tasarımı ile konut ve ticari uygulamalarda çoklu geçiş kontrolü ve genişletilebilirlik sunar. Yüz tanıma, kart, PIN, BLE ve QR kod ile çoklu geçiş desteği ile güvenli ve esnek bir çözüm sağlar.</div>
        <ul class='text-sm text-gray-700 pl-4 list-disc'>
          <li><b>Ön Panel:</b> Alüminyum</li>
          <li><b>Ekran:</b> 5” IPS LCD</li>
          <li><b>Kamera:</b> 2MP ana kamera, otomatik ışıklandırma, 110° (Y) / 62° (D) geniş açı, HDR</li>
          <li><b>Geçiş Seçenekleri:</b> Yüz tanıma, kart, PIN, BLE, QR kod</li>
          <li><b>Dayanıklılık:</b> IP66 suya, IK08 darbeye dayanıklı</li>
          <li><b>Bağlantı:</b> Ethernet (RJ45), PoE (IEEE802.3at), SIP, ONVIF, RS485, Wiegand, NFC</li>
          <li><b>Modül Desteği:</b> Genişletilebilir modül desteği</li>
          <li><b>Röle:</b> 1 adet röle çıkışı, 2 input</li>
          <li><b>Ses:</b> Mikrofon, hoparlör, G.711a, G.711μ, G.722, yankı engelleme</li>
          <li><b>Yönetim:</b> Web yönetim portalı, otomatik provisioning, uzaktan erişim</li>
          <li><b>Montaj:</b> Sıva altı ve duvar tipi, 210 x 100 x 27 mm</li>
          <li><b>Çalışma Sıcaklığı:</b> -40°C ~ +55°C</li>
          <li><b>Video:</b> 1920x1080p’ye kadar, H.264, HDR, 30fps</li>
        </ul>`
      },
  { id:'s539', cat:'door', name:'S539', desc:'10” IPS LCD, 5MP Kamera, Starlight, IP66, IK08, BLE, HDR, PoE, ONVIF, SIP, Android 12, 1080p, NFC, RFID, QR Kod, Yüz Tanıma, Metaverse', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/doorbell/s539.png'],
        details:`<div class='mb-2'>Akuvox S539, sektörde ilk Metaverse özellikli Android tabanlı bina tipi interkom panelidir. 10” IPS dokunmatik ekranı, yüksek çözünürlüklü ve starlight destekli kamerası ile modern binalar için üst düzey güvenlik ve etkileşim sunar. Kart, şifre, yüz tanıma, QR kod ve BLE gibi çoklu geçiş kontrol seçenekleriyle donatılmıştır.</div>
  <div class='mb-2'><a href='https://www.akuvoxinterkom.com/dosyalar/akuvox-s539-datasheet-v1.0.pdf' target='_blank' class='text-brand-primary underline font-semibold'>Teknik döküman (PDF)</a></div>
         <ul class='text-sm text-gray-700 pl-4 list-disc'>
           <li><b>Ekran:</b> 10” tam renkli IPS dokunmatik ekran</li>
           <li><b>Kamera:</b> 5MP ana kamera, HDR ve starlight destekli, sürekli çalışan kamera, otomatik gece modu</li>
           <li><b>Görüş Açısı:</b> 120° yatay / 72° dikey</li>
           <li><b>İşletim Sistemi:</b> Android</li>
           <li><b>Yüz Tanıma:</b> AI destekli, >%99 doğruluk, <0.2 sn karşılaştırma süresi, <%0.1 yanlış tanıma oranı</li>
           <li><b>Geçiş Seçenekleri:</b> QR kod, kart, PIN, BLE ve yüz tanıma ile çoklu kilit açma</li>
           <li><b>RF Kart Okuyucu:</b> 13.56 MHz & 125 kHz</li>
           <li><b>Bağlantı:</b> Ethernet (RJ45), Bluetooth, RS485, Wiegand, Line Out</li>
           <li><b>Protokoller:</b> IPv4, HTTP, HTTPS, FTP, SNMP, DNS, NTP, RTSP, RTP, TCP, UDP, ICMP, DHCP, ARP</li>
           <li><b>Yönetim:</b> Web tabanlı arayüz, otomatik provizyon, OTA yazılım güncelleme, sistem günlüğü</li>
           <li><b>Dayanıklılık:</b> IP66 suya ve toza dayanıklı, IK08 darbe koruma, alüminyum gövde</li>
           <li><b>Montaj:</b> Sıva altı ve sıva üstü seçenekleri</li>
           <li><b>Boyutlar:</b> Sıva altı: 363.5 × 179.8 × 64 mm, Sıva üstü: 367.5 × 183 × 35.5 mm</li>
           <li><b>Çalışma Sıcaklığı:</b> -30°C ~ +55°C</li>
         </ul>`
      },
      { id:'x912', cat:'door', name:'X912', desc:'4” TFT LCD, 2MP Kamera, IP65, IK10, BLE, HDR, PoE, ONVIF, SIP, NFC', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/doorbell/x912.png'],
        details:`<div class='mb-2'>Akuvox X912, kompakt ve vandalizme dayanıklı tasarımıyla üst düzey binalar için güvenilir erişim kontrolü sağlar. Yüz tanıma, kart, PIN, Bluetooth ve QR kod ile çoklu geçiş imkanı sunar.</div>
  <div class='mb-2'><a href='https://www.akuvoxinterkom.com/dosyalar/akuvox-x912s-datasheet.pdf' target='_blank' class='text-brand-primary underline font-semibold'>Teknik döküman (PDF)</a></div>
        <ul class='text-sm text-gray-700 pl-4 list-disc'>
          <li><b>Ekran:</b> 4” renkli TFT LCD, dokunmatik</li>
          <li><b>Kamera:</b> 2MP, HDR, starlight destekli</li>
          <li><b>Geçiş Seçenekleri:</b> Yüz tanıma, kart, PIN, Bluetooth, QR kod</li>
          <li><b>Dayanıklılık:</b> IP65 suya, IK10 darbeye dayanıklı, paslanmaz çelik gövde</li>
          <li><b>Bağlantı:</b> Ethernet (RJ45), PoE, RS485, Wiegand, Bluetooth, NFC</li>
          <li><b>Montaj:</b> Duvara monte</li>
          <li><b>Boyutlar:</b> 234 × 94.5 × 34 mm</li>
          <li><b>Çalışma Sıcaklığı:</b> -20°C ~ +60°C</li>
          <li><b>Video:</b> H.264, 1920x1080 @ 30fps, HDR</li>
          <li><b>Ses:</b> G.711a, G.711μ, G.722, yankı engelleme</li>
        </ul>`
      },
      { id:'x915', cat:'door', name:'X915', desc:'8” IPS LCD, 2 Kamera, Starlight, IP66, IK10, BLE, HDR, PoE, ONVIF, SIP, Android, 1080p, RFID, QR', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/doorbell/x915.png'],
        details:`<div class='mb-2'>Akuvox X915, zorlu dış ortam koşulları için üstün dayanıklılık ve akıllı erişim kontrolü sunan bir interkom panelidir. Lüks konutlardan endüstriyel tesislere kadar geniş uygulama alanı vardır.</div>
  <div class='mb-2'><a href='https://www.akuvoxinterkom.com/dosyalar/akuvox-x915s-datasheet.pdf' target='_blank' class='text-brand-primary underline font-semibold'>Teknik döküman (PDF)</a></div>
        <ul class='text-sm text-gray-700 pl-4 list-disc'>
          <li><b>Ekran:</b> 8” IPS LCD, dokunmatik</li>
          <li><b>Kamera:</b> 2MP ana kamera, HDR, starlight destekli</li>
          <li><b>Geçiş Seçenekleri:</b> Yüz tanıma, kart, PIN, Bluetooth, QR kod</li>
          <li><b>Dayanıklılık:</b> IP66 suya, IK10 darbeye dayanıklı, paslanmaz çelik gövde</li>
          <li><b>Bağlantı:</b> Ethernet (RJ45), PoE, RS485, Wiegand, Bluetooth, NFC</li>
          <li><b>Montaj:</b> Sıva altı & sıva üstü</li>
          <li><b>Boyutlar:</b> 350 × 130 × 60 mm</li>
          <li><b>Çalışma Sıcaklığı:</b> -20°C ~ +55°C</li>
          <li><b>Video:</b> H.264, 1920x1080 @ 30fps, HDR</li>
          <li><b>Ses:</b> G.711a, G.711μ, G.722, yankı engelleme</li>
        </ul>`
      },
      { id:'x916', cat:'door', name:'X916', desc:'13” IPS LCD, 3 Kamera, Starlight, IP65, IK07, BLE, HDR, PoE, ONVIF, SIP, Android, 1080p, RFID', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/doorbell/x916.png'],
        details:`<div class='mb-2'>Akuvox X916, lüks projeler için üst düzey akıllı interkom panelidir. 13” dokunmatik ekranı, HDR destekli kamerası ve çoklu geçiş seçenekleriyle modern binalar için ideal çözümdür.</div>
  <div class='mb-2'><a href='https://www.akuvoxinterkom.com/dosyalar/akuvox-x916s-datasheet_191112_v2.0.pdf' target='_blank' class='text-brand-primary underline font-semibold'>Teknik döküman (PDF)</a></div>
        <ul class='text-sm text-gray-700 pl-4 list-disc'>
          <li><b>Ekran:</b> 13” IPS LCD, dokunmatik</li>
          <li><b>Kamera:</b> 2MP ana kamera, 2MP yardımcı kamera, 0.3MP yardımcı kamera, HDR, starlight destekli</li>
          <li><b>Geçiş Seçenekleri:</b> Yüz tanıma, kart, PIN, Bluetooth, QR kod, NFC</li>
          <li><b>Dayanıklılık:</b> IP65 suya, IK07 darbeye dayanıklı, paslanmaz çelik gövde</li>
          <li><b>Bağlantı:</b> 2x Ethernet (RJ45), PoE, RS485, Wiegand, Bluetooth, HDMI, USB, NFC</li>
          <li><b>Montaj:</b> Sıva altı & sıva üstü</li>
          <li><b>Boyutlar:</b> 383.9 × 339.2 × 63.7 mm</li>
          <li><b>Çalışma Sıcaklığı:</b> -20°C ~ +55°C</li>
          <li><b>Video:</b> H.264, 1920x1080 @ 30fps, HDR</li>
          <li><b>Ses:</b> G.711a, G.711μ, G.722, yankı engelleme, 2 hoparlör</li>
        </ul>`
      },
      { id:'x910', cat:'door', name:'X910', desc:'2 Kamera, IP66, IK08, PoE, ONVIF, SIP, Linux, RFID, QR, Paket Algılama', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/doorbell/x910.png'],
        details:`<div class='mb-2'>Akuvox X910, ziyaretçileri hem görüntülü hem de sesli olarak doğrulama imkânı sunarak daire önü kullanımında üst düzey güvenlik sağlar. Tek butonlu villa tipi tasarımı ve paket algılama özelliği ile kapınızın önünü izleyebilir, teslimatlarınızı güvenle takip edebilirsiniz.</div>
        <div class='mb-2'><a href='https://www.akuvoxinterkom.com/dosyalar/akuvox-x910s-datasheet.pdf' target='_blank' class='text-brand-primary underline font-semibold'>Teknik döküman (PDF)</a></div>
        <ul class='text-sm text-gray-700 pl-4 list-disc'>
          <li><b>Panel:</b> Alüminyum ön panel, tek buton</li>
          <li><b>Kamera:</b> 2 adet, paket algılama, hareket ve ışık sensörü</li>
          <li><b>RF Kart Okuyucu:</b> 13.56MHz, NFC</li>
          <li><b>Bağlantı:</b> Ethernet (RJ45), PoE (802.3at), Wiegand, RS485</li>
          <li><b>Röle Çıkışı:</b> 2 adet</li>
          <li><b>Giriş:</b> 2 adet</li>
          <li><b>Ses:</b> Mikrofon ve hoparlör, SIP v1/v2, ONVIF uyumlu</li>
          <li><b>Koruma:</b> IP66 suya, IK08 darbeye dayanıklı</li>
          <li><b>Montaj:</b> Sıva üstü, 192x70x27 mm</li>
          <li><b>Çalışma Sıcaklığı:</b> -40°C ~ +65°C</li>
        </ul>`
      },
      { id:'r20b', cat:'door', name:'R20B', desc:'Kompakt, Çok Butonlu, 2MP Kamera, IP65, PoE, ONVIF, SIP, Linux, RFID', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/doorbell/r20b.png'],
        details:`<div class='mb-2'>Akuvox R20B serisi, apartman ve site girişlerinde ziyaretçileri sesli ve görüntülü olarak doğrulama imkânı sunar. Kompakt tasarımı sayesinde sınırlı montaj alanları için ideal olup, bina sakinlerine güvenli ve pratik bir iletişim deneyimi sağlar.</div>
        <div class='mb-2'><b>Model Seçenekleri:</b> R20Bx5 (5 butonlu), R20Bx4 (4 butonlu), R20Bx3 (3 butonlu), R20Bx2 (2 butonlu)</div>
        <ul class='text-sm text-gray-700 pl-4 list-disc'>
          <li><b>Panel:</b> Alüminyum alaşımlı ön panel, isimlikli çağrı butonları</li>
          <li><b>Kamera:</b> 2MP, otomatik aydınlatma, 110° (Y), 58° (D), LED gece modu</li>
          <li><b>Bağlantı:</b> Ethernet (RJ45), PoE (802.3af), 12V DC, SIP v1/v2, ONVIF uyumlu, RFID</li>
          <li><b>Ses:</b> Hoparlör (4Ω/2W), mikrofon (-40dB), DTMF ile ayrı ayrı kontrol, Giriş/erişim logları</li>
          <li><b>Montaj:</b> Sıva altı: 226x108x52mm, Sıva üstü: 185x85x24mm</li>
          <li><b>Dayanıklılık:</b> IP65 suya ve toza dayanıklı</li>
          <li><b>Çalışma Sıcaklığı:</b> -30°C ~ +65°C</li>
          <li><b>Yönetim:</b> Web portalı, yapılandırma yedekleme/geri yükleme, yazılım güncelleme, sistem logları</li>
        </ul>`
      },
      { id:'e13s', cat:'door', name:'E13S', desc:'2MP Kamera, IP65, PoE, ONVIF, SIP, Linux, RFID, NFC, Kompakt Tasarım', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/doorbell/e13s.png'],
        details:`<div class='mb-2'>Akuvox E13S, yenilikçi tasarımı ve gelişmiş teknolojik özellikleriyle orta ve üst segment konut projeleri için ideal bir çözümdür. Tek tuşlu SIP görüntülü kapı telefonu olarak; şık görünüm, zengin interkom işlevselliği ve kolay kurulum avantajlarını bir arada sunar.</div>
        <div class='mb-2'><a href='https://www.akuvoxinterkom.com/dosyalar/52526-e13s.pdf' target='_blank' class='text-brand-primary underline font-semibold'>Teknik döküman (PDF)</a></div>
        <ul class='text-sm text-gray-700 pl-4 list-disc'>
          <li><b>Gövde:</b> Plastik, kompakt tasarım</li>
          <li><b>Kamera:</b> 2MP, otomatik ışık, 1/2.8” CMOS, CIF/VGA/4CIF/720p/1080p</li>
          <li><b>Tuş:</b> 1 adet çağrı butonu</li>
          <li><b>RF Kart Okuyucu:</b> 13.56MHz, NFC</li>
          <li><b>Bağlantı:</b> Ethernet (RJ45), PoE (802.3af), 12V DC, Wiegand, RS485</li>
          <li><b>Röle Çıkışı:</b> 1 adet</li>
          <li><b>Giriş:</b> 2 adet</li>
          <li><b>Ses:</b> Mikrofon, hoparlör, Linux OS, SIP v1/v2, ONVIF uyumlu, DTMF (RFC2833), gürültü önleyici</li>
          <li><b>Koruma:</b> IP65 suya ve toza dayanıklı</li>
          <li><b>Montaj:</b> Sıvaaltı veya sıvaüstü, 160x86x25mm</li>
          <li><b>Yönetim:</b> Web portalı, otomatik provizyon, yedekleme/geri yükleme, sistem güncelleme</li>
                   <li><b>Ek Özellikler:</b> Tamper alarm, ışık sensörü</li>
          <li><b>Çalışma Sıcaklığı:</b> -30°C ~ +65°C</li>
        </ul>`
      },
      // Daire İçi Paneller
      { id:'c316-65213', cat:'indoor', name:'C316', desc:'Daire İçi Panel', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/interior_panel/c316-65213.png'] },
      { id:'c319-64641', cat:'indoor', name:'C319', desc:'Daire İçi Panel', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/interior_panel/c319-64641.png'] },
      { id:'it88-1-22210', cat:'indoor', name:'IT88', desc:'Daire İçi Panel', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/interior_panel/it88-1-22210.png'] },
      { id:'r49g-64702', cat:'indoor', name:'R49G', desc:'Daire İçi Panel', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/interior_panel/r49g-64702.png'] },
      { id:'s560-65153', cat:'indoor', name:'S560', desc:'Daire İçi Panel', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/interior_panel/s560-65153.png'] },
      { id:'s562-1-11117', cat:'indoor', name:'S562', desc:'Daire İçi Panel', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/interior_panel/s562-1-11117.png'] },
      { id:'s563-11420', cat:'indoor', name:'S563', desc:'Daire İçi Panel', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/interior_panel/s563-11420.png'] },
      { id:'s567-11143', cat:'indoor', name:'S567', desc:'Daire İçi Panel', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/interior_panel/s567-11143.png'] },
      { id:'s567-11143-1', cat:'indoor', name:'S567', desc:'Daire İçi Panel', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/interior_panel/s567-11143 (1).png'] },
      { id:'x933-64601', cat:'indoor', name:'X933', desc:'Daire İçi Panel', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/interior_panel/x933-64601.png'] },
      { id:'x937-32741', cat:'indoor', name:'X937', desc:'Daire İçi Panel', brand:'Akuvox', conn:['WiFi'], images:['../assets/images/products/interior_panel/x937-32741.png'] },

    ];

    // State
  let activeCat = 'all';
  let activeBrand = 'all';
  let activeConn = 'all';
  let activeViewCount = 16;
  let activePage = 1;
  let activeViewMode = 'grid'; // 'grid', 'list', 'grid-dense'
  let activeSort = 'default';
  let filtered = PRODUCTS.slice();
  let basket = JSON.parse(localStorage.getItem('begon_basket') || '[]');
  let modalIndex = 0;
  let currentModal = null;

  // Elements
  const gridEl = document.getElementById('grid');
  const paginationEl = document.getElementById('pagination');
  const catBtns = document.querySelectorAll('.cat-btn');
  const brandBtns = document.querySelectorAll('.brand-btn');
  const connBtns = document.querySelectorAll('.conn-btn');
  const viewCountBtns = document.querySelectorAll('.view-count-btn');
  const viewListBtn = document.getElementById('view-list');
  const viewGridBtn = document.getElementById('view-grid');
  const viewGridDenseBtn = document.getElementById('view-grid-dense');
  const sortMethodEl = document.getElementById('sort-method');
  const searchEl = document.getElementById('search');
    const basketCountEl = document.getElementById('basket-count');
    const mobileBasketBtn = document.getElementById('mobile-basket-btn');
    const mobileBasketCount = document.getElementById('mobile-basket-count');
    const basketListEl = document.getElementById('basket-items');

    // Helper to attach listeners even if element isn't present yet
    function onReadyAttach(idOrEl, cb) {
      if (!idOrEl) return;
      if (typeof idOrEl === 'string') {
        const attach = (el) => { if (el) cb(el); };
        const el = document.getElementById(idOrEl);
        if (el) return attach(el);
        document.addEventListener('DOMContentLoaded', () => attach(document.getElementById(idOrEl)));
      } else if (idOrEl instanceof Element) {
        cb(idOrEl);
      }
    }

    // Small toast helper
    function showToast(msg, duration = 2000) {
      try {
        const toast = document.getElementById('toast');
        const inner = document.getElementById('toast-inner');
        if (!toast || !inner) return;
        inner.textContent = msg;
        toast.classList.remove('hidden');
        setTimeout(() => { toast.classList.add('hidden'); }, duration);
      } catch(_){}
    }

    // Modal els
    const modal = document.getElementById('product-modal');
    const modalTitle = document.getElementById('modal-title');
    const modalImg = document.getElementById('modal-image');
    const modalName = document.getElementById('modal-name');
    const modalDesc = document.getElementById('modal-desc');
  const modalPrev = document.getElementById('modal-prev');
    const modalNext = document.getElementById('modal-next');
    const modalAdd = document.getElementById('modal-add');
    const modalClose = document.getElementById('modal-close');
    const modalClose2 = document.getElementById('modal-close-2');
  const modalDatasheetWrap = document.getElementById('modal-datasheet');
  const modalDatasheetLink = document.getElementById('datasheet-link');

    function normalizeModel(str){
      return (str||'').toUpperCase().replace(/[^A-Z0-9]/g,'');
    }
    function extractModelFromId(id){
      // Examples: 'r25a-10647' -> 'R25A', 'x915' -> 'X915'
      const up = (id||'').toUpperCase();
      const m = up.match(/[A-Z]+\d+[A-Z]?/);
      return m ? m[0] : normalizeModel(id);
    }

    // Helper functions for category icons and names (global so other renderers can use them)
    function getCategoryIcon(cat) {
      const icons = {
        door: '<i class="fa fa-bell text-red-500"></i>',
        indoor: '<i class="fa fa-tablet text-blue-500"></i>',
        access: '<i class="fa fa-lock text-yellow-600"></i>',
        twire: '<i class="fa fa-random text-purple-500"></i>',
        villa: '<i class="fa fa-home text-green-600"></i>',
        smart: '<i class="fa fa-cogs text-indigo-500"></i>',
        hypanel: '<i class="fa fa-tablet text-green-500"></i>',
        kilit: '<i class="fa fa-lock text-blue-500"></i>',
        sensor: '<i class="fa fa-thermometer-half text-yellow-500"></i>',
        termostat: '<i class="fa fa-fire text-red-500"></i>',
        anahtar: '<i class="fa fa-toggle-on text-purple-500"></i>'
      };
      return icons[cat] || '<i class="fa fa-cube text-gray-500"></i>';
    }

    function getCategoryName(cat) {
      const names = {
        door: 'Kapı Zili',
        indoor: 'İç Panel',
        access: 'Erişim',
        twire: '2-Kablo',
        villa: 'Villa',
        smart: 'Akıllı Ev',
        hypanel: 'HyPanel',
        kilit: 'Kilit',
        sensor: 'Sensör',
        termostat: 'Termostat',
        anahtar: 'Anahtar'
      };
      return names[cat] || 'Diğer';
    }

    function renderGrid(){
      // Check if no results
      if (filtered.length === 0) {
        showNoResults();
        return;
      }
      
      showGrid();
      
      // Sorting
      let sorted = filtered.slice();
      if(activeSort === 'name-asc') sorted.sort((a,b)=>a.name.localeCompare(b.name));
      else if(activeSort === 'name-desc') sorted.sort((a,b)=>b.name.localeCompare(a.name));
      else if(activeSort === 'brand') sorted.sort((a,b)=>a.brand.localeCompare(b.brand));
      // Pagination
      let pageSize = activeViewCount === 'all' ? sorted.length : parseInt(activeViewCount);
      let totalPages = Math.max(1, Math.ceil(sorted.length / pageSize));
      if(activePage > totalPages) activePage = totalPages;
      let start = (activePage-1)*pageSize;
      let end = activeViewCount === 'all' ? sorted.length : start+pageSize;
      const paged = sorted.slice(start, end);
      let html = paged.map(p => {
        const brandColor = p.brand === 'Akuvox' ? 'blue' : 'orange';
        const categoryIcon = getCategoryIcon(p.cat);
        
        if(activeViewMode==='list'){
          return `<div class="product-card border-2 border-gray-100 rounded-2xl p-6 flex items-center gap-6 cursor-pointer transition-all duration-400" data-id="${p.id}">
            <div class="relative flex-shrink-0">
              <img src="${p.images[0] || '../assets/images/logo.png'}" alt="${p.name}" class="product-image w-36 h-28 object-contain rounded-xl bg-gray-50 p-2" />
              <div class="absolute -top-2 -right-2 bg-${brandColor}-500 text-white text-xs font-bold px-2 py-1 rounded-full">
                ${p.brand}
              </div>
            </div>
            <div class="flex-1 min-w-0">
              <div class="flex items-start justify-between mb-3">
                <h3 class="text-xl font-bold text-brand-dark line-clamp-2">${p.name}</h3>
                <div class="flex items-center gap-1 text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full">
                  ${categoryIcon}
                  <span class="capitalize">${getCategoryName(p.cat)}</span>
                </div>
              </div>
              <p class="text-gray-600 mb-4 line-clamp-2">${p.desc}</p>
              <div class="flex items-center gap-4 mb-4">
                <div class="flex items-center gap-2">
                  <div class="w-3 h-3 bg-${brandColor}-500 rounded-full"></div>
                  <span class="text-sm font-medium text-gray-700">${p.brand}</span>
                </div>
                <div class="text-gray-300">•</div>
                <div class="flex items-center gap-1 text-sm text-gray-600">
                  <i class="fa fa-wifi text-brand-accent"></i>
                  <span>${p.conn.join(', ')}</span>
                </div>
              </div>
              <div class="flex gap-3">
                <button data-action="details" class="flex-1 px-4 py-3 text-sm font-medium border-2 border-gray-200 text-gray-700 rounded-xl hover:border-brand-accent hover:text-brand-accent transition-all duration-300">
                  <i class="fa fa-eye mr-2"></i>Detay Görüntüle
                </button>
                <button data-action="add" class="flex-1 btn-primary px-4 py-3 text-sm font-semibold text-white rounded-xl transition-all duration-300">
                  <i class="fa fa-cart-plus mr-2"></i>Sepete Ekle
                </button>
              </div>
            </div>
          </div>`;
        } else {
          const isGridDense = activeViewMode === 'grid-dense';
          const cardClass = isGridDense ? 'p-4' : 'p-6';
          const imageHeight = isGridDense ? 'h-32' : 'h-48';
          const titleSize = isGridDense ? 'text-sm' : 'text-lg';
          const descSize = isGridDense ? 'text-xs' : 'text-sm';
          const buttonClass = isGridDense ? 'px-2 py-2 text-xs' : 'px-4 py-3 text-sm';
          const marginBottom = isGridDense ? 'mb-3' : 'mb-6';
          
          return `<div class="product-card border-2 border-gray-100 rounded-2xl ${cardClass} cursor-pointer transition-all duration-400 group" data-id="${p.id}">
            <div class="relative ${marginBottom}">
              <img src="${p.images[0] || '../assets/images/logo.png'}" alt="${p.name}" class="product-image w-full ${imageHeight} object-contain rounded-xl bg-gray-50 p-2" />
              <div class="absolute top-2 right-2 bg-${brandColor}-500 text-white text-xs font-bold px-2 py-1 rounded-full">
                ${p.brand}
              </div>
              ${!isGridDense ? `<div class="absolute top-2 left-2 bg-white/90 backdrop-blur-sm text-gray-600 text-xs font-medium px-2 py-1 rounded-full flex items-center gap-1">
                ${categoryIcon}
                <span class="capitalize">${getCategoryName(p.cat)}</span>
              </div>` : ''}
            </div>
            
            <div class="${isGridDense ? 'space-y-2' : 'space-y-4'}">
              <div>
                <h3 class="${titleSize} font-bold text-brand-dark line-clamp-2 ${isGridDense ? 'mb-1' : 'mb-2'} group-hover:text-brand-primary transition-colors duration-300">${p.name}</h3>
                ${!isGridDense ? `<p class="text-gray-600 ${descSize} line-clamp-3">${p.desc}</p>` : ''}
              </div>
              
              <div class="flex items-center ${isGridDense ? 'justify-center' : 'justify-between'} ${descSize}">
                <div class="flex items-center gap-1">
                  <div class="w-2 h-2 bg-${brandColor}-500 rounded-full"></div>
                  <span class="font-medium text-gray-700 ${isGridDense ? 'text-xs' : ''}">${p.brand}</span>
                </div>
                ${!isGridDense ? `<div class="flex items-center gap-1 text-gray-600">
                  <i class="fa fa-wifi text-brand-accent"></i>
                  <span>${p.conn.join(', ')}</span>
                </div>` : ''}
              </div>
              
              <div class="${isGridDense ? 'flex flex-col gap-2' : 'grid grid-cols-2 gap-3'} pt-2">
                <button data-action="details" class="${buttonClass} font-medium border-2 border-gray-200 text-gray-700 rounded-xl hover:border-brand-accent hover:text-brand-accent transition-all duration-300 ${isGridDense ? 'w-full' : ''}">
                  <i class="fa fa-eye ${isGridDense ? 'mr-1' : 'mb-1 block'}"></i>
                  <span>Detay</span>
                </button>
                <button data-action="add" class="btn-primary ${buttonClass} font-semibold text-white rounded-xl transition-all duration-300 ${isGridDense ? 'w-full' : ''}">
                  <i class="fa fa-cart-plus ${isGridDense ? 'mr-1' : 'mb-1 block'}"></i>
                  <span>Sepete Ekle</span>
                </button>
              </div>
            </div>
          </div>`;
        }
      }).join('');
      
      gridEl.innerHTML = html;
      
      // Update grid/list/dense classes with modern responsive design
      if(activeViewMode==='list') {
        gridEl.className = 'category-grid responsive-grid flex flex-col gap-6 mb-8';
      } else if(activeViewMode==='grid-dense') {
        gridEl.className = 'category-grid responsive-grid grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-4 xl:grid-cols-6 gap-4 mb-8';
      } else {
        gridEl.className = 'category-grid responsive-grid grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2 gap-8 mb-8';
      }
      
      // Animate cards after rendering
      setTimeout(animateProductCards, 100);
      
      // Modern pagination controls
      if(activeViewCount === 'all' || totalPages === 1){
        paginationEl.innerHTML = '';
      } else {
        let pagHtml = '<div class="flex items-center gap-2">';
        
        // Previous button
        if(activePage > 1) {
          pagHtml += `<button class="pagination-btn px-4 py-3 border-2 border-gray-200 rounded-xl text-brand-primary font-medium hover:border-brand-accent hover:bg-brand-accent hover:text-white transition-all duration-300" data-page="prev">
            <i class="fa fa-chevron-left mr-2"></i>Önceki
          </button>`;
        }
        
        // Page numbers
        pagHtml += '<div class="flex items-center gap-1 mx-4">';
        const maxPagesToShow = 5;
        if (totalPages <= maxPagesToShow + 2) {
          for(let i=1;i<=totalPages;i++){
            const isActive = i === activePage;
            pagHtml += `<button class="pagination-btn w-12 h-12 border-2 rounded-xl font-bold transition-all duration-300 ${
              isActive 
                ? 'bg-gradient-to-r from-brand-primary to-brand-accent text-white border-brand-accent shadow-lg' 
                : 'border-gray-200 text-gray-700 hover:border-brand-accent hover:text-brand-accent'
            }" data-page="${i}">${i}</button>`;
          }
        } else {
          // Always show first page
          pagHtml += `<button class="pagination-btn w-12 h-12 border-2 rounded-xl font-bold transition-all duration-300 ${activePage === 1 ? 'bg-gradient-to-r from-brand-primary to-brand-accent text-white border-brand-accent shadow-lg' : 'border-gray-200 text-gray-700 hover:border-brand-accent hover:text-brand-accent'}" data-page="1">1</button>`;
          // Show ellipsis if needed
          if (activePage > 3) {
            pagHtml += `<span class="px-2 text-gray-400">...</span>`;
          }
          // Show middle pages
          let start = Math.max(2, activePage - 1);
          let end = Math.min(totalPages - 1, activePage + 1);
          if (activePage <= 3) {
            start = 2;
            end = maxPagesToShow;
          } else if (activePage >= totalPages - 2) {
            start = totalPages - maxPagesToShow + 1;
            end = totalPages - 1;
          }
          for(let i=start;i<=end;i++){
            const isActive = i === activePage;
            pagHtml += `<button class="pagination-btn w-12 h-12 border-2 rounded-xl font-bold transition-all duration-300 ${
              isActive 
                ? 'bg-gradient-to-r from-brand-primary to-brand-accent text-white border-brand-accent shadow-lg' 
                : 'border-gray-200 text-gray-700 hover:border-brand-accent hover:text-brand-accent'
            }" data-page="${i}">${i}</button>`;
          }
          // Show ellipsis if needed
          if (activePage < totalPages - 2) {
            pagHtml += `<span class="px-2 text-gray-400">...</span>`;
          }
          // Always show last page
          pagHtml += `<button class="pagination-btn w-12 h-12 border-2 rounded-xl font-bold transition-all duration-300 ${activePage === totalPages ? 'bg-gradient-to-r from-brand-primary to-brand-accent text-white border-brand-accent shadow-lg' : 'border-gray-200 text-gray-700 hover:border-brand-accent hover:text-brand-accent'}" data-page="${totalPages}">${totalPages}</button>`;
        }
        pagHtml += '</div>';
        
        // Next button  
        if(activePage < totalPages) {
          pagHtml += `<button class="pagination-btn px-4 py-3 border-2 border-gray-200 rounded-xl text-brand-primary font-medium hover:border-brand-accent hover:bg-brand-accent hover:text-white transition-all duration-300" data-page="next">
            Sonraki<i class="fa fa-chevron-right ml-2"></i>
          </button>`;
        }
        
        pagHtml += '</div>';
        paginationEl.innerHTML = pagHtml;
      }
    }
    // View count selector
    viewCountBtns.forEach(btn=>btn.addEventListener('click',()=>{
      let val = btn.dataset.count;
      activeViewCount = val === 'all' ? 'all' : parseInt(val);
      activePage = 1;
      
      // Update button styles
      viewCountBtns.forEach(b => {
        b.classList.remove('active', 'font-bold', 'text-white', 'bg-gradient-to-r', 'from-brand-primary', 'to-brand-accent', 'shadow-lg');
        b.classList.add('text-gray-600', 'hover:text-brand-primary', 'hover:bg-white');
      });
      
      btn.classList.add('active', 'font-bold', 'text-white', 'bg-gradient-to-r', 'from-brand-primary', 'to-brand-accent', 'shadow-lg');
      btn.classList.remove('text-gray-600', 'hover:text-brand-primary', 'hover:bg-white');
      
      renderGrid();
    }));
    paginationEl.addEventListener('click', e => {
      const page = e.target.getAttribute('data-page');
      if (!page) return;
      if (page === 'prev') activePage = Math.max(1, activePage - 1);
      else if (page === 'next') activePage = activePage + 1;
      else activePage = parseInt(page);
      renderGrid();
    });
    // View mode toggles
    viewListBtn.addEventListener('click', () => {
      activeViewMode = 'list';
      [viewListBtn, viewGridBtn, viewGridDenseBtn].forEach(btn => btn.classList.remove('active', 'text-brand-primary', 'bg-brand-light'));
      viewListBtn.classList.add('active', 'text-brand-primary', 'bg-brand-light');
      renderGrid();
    });
    viewGridBtn.addEventListener('click', () => {
      activeViewMode = 'grid';
      [viewListBtn, viewGridBtn, viewGridDenseBtn].forEach(btn => btn.classList.remove('active', 'text-brand-primary', 'bg-brand-light'));
      viewGridBtn.classList.add('active', 'text-brand-primary', 'bg-brand-light');
      renderGrid();
    });
    viewGridDenseBtn.addEventListener('click', () => {
      activeViewMode = 'grid-dense';
      [viewListBtn, viewGridBtn, viewGridDenseBtn].forEach(btn => btn.classList.remove('active', 'text-brand-primary', 'bg-brand-light'));
      viewGridDenseBtn.classList.add('active', 'text-brand-primary', 'bg-brand-light');
      renderGrid();
    });
    // Sort method
    sortMethodEl.addEventListener('change', () => {
      activeSort = sortMethodEl.value;
      renderGrid();
    });

    function applyFilters() {
      // Show loading state
      showLoadingState();
      
      setTimeout(() => {
        const q = (searchEl.value || '').trim().toLowerCase();
        filtered = PRODUCTS.filter(p =>
          (activeCat === 'all' || p.cat === activeCat) &&
          (activeBrand === 'all' || p.brand === activeBrand) &&
          (activeConn === 'all' || (p.conn && p.conn.includes(activeConn))) &&
          (p.name.toLowerCase().includes(q) || p.desc.toLowerCase().includes(q))
        );
        
        hideLoadingState();
        renderGrid();
        updateProductCount();
      }, 300); // Small delay for better UX
    }
    
    function applyFiltersToProducts() {
      const q = (searchEl.value || '').trim().toLowerCase();
      return PRODUCTS.filter(p =>
        (activeCat === 'all' || p.cat === activeCat) &&
        (activeBrand === 'all' || p.brand === activeBrand) &&
        (activeConn === 'all' || (p.conn && p.conn.includes(activeConn))) &&
        (p.name.toLowerCase().includes(q) || p.desc.toLowerCase().includes(q))
      );
    }
    
    function showLoadingState() {
      document.getElementById('grid').style.display = 'none';
      document.getElementById('no-results').style.display = 'none';
      document.getElementById('loading-state').style.display = 'block';
      document.getElementById('pagination').innerHTML = '';
    }
    
    function hideLoadingState() {
      document.getElementById('loading-state').style.display = 'none';
    }
    
    function showNoResults() {
      document.getElementById('grid').style.display = 'none';
      document.getElementById('loading-state').style.display = 'none';
      document.getElementById('no-results').style.display = 'block';
      document.getElementById('pagination').innerHTML = '';
    }
    
    function showGrid() {
      document.getElementById('no-results').style.display = 'none';
      document.getElementById('loading-state').style.display = 'none';
      document.getElementById('grid').style.display = 'grid';
    }

    // Update the on-screen debug panel with current basket/localStorage state
    function updateDebugPanel() {
      try {
        const panel = document.getElementById('basket-debug');
        const content = document.getElementById('basket-debug-content');
        if (!panel || !content) return;
        const ls = (() => { try { return JSON.parse(localStorage.getItem('begon_basket')||'[]'); } catch(_) { return localStorage.getItem('begon_basket'); } })();
        const hasBasketEl = !!document.getElementById('basket-items');
        const html = `basket (in-memory): ${JSON.stringify(basket, null, 2)}\nlocalStorage: ${JSON.stringify(ls, null, 2)}\n#basket-items present: ${hasBasketEl}`;
        content.textContent = html;
      } catch (e) { console.log('updateDebugPanel err', e); }
    }

    function saveBasket() {
      try{ console.log('saveBasket: saving', basket); }catch(_){ }
      localStorage.setItem('begon_basket', JSON.stringify(basket));
      try { updateDebugPanel(); } catch(_){}
      try { syncSendOfferState(); } catch (_){ }
    }

    function updateHeaderBasketBadge(total){
      try{
        const hdr = document.getElementById('header-basket-count') || document.querySelector('[data-basket-count]');
        if(hdr) hdr.textContent = String(total);
      }catch(_){/* no-op */}
    }

    // debounce timer to coalesce rapid badge updates (prevents repeated console noise)
    let __begon_updateBasket_timer = null;
    function updateBasketBadges() {
      // schedule the actual DOM updates a short time later so multiple callers collapse
      try { clearTimeout(__begon_updateBasket_timer); } catch(_) {}
      __begon_updateBasket_timer = setTimeout(() => {
        try {
          const total = basket.reduce((s, i) => s + i.qty, 0);
          // Query DOM elements each time because partials may replace them after script load
          const basketCountElNow = document.getElementById('basket-count');
          const mobileBasketCountNow = document.getElementById('mobile-basket-count');
          // Only log when an explicit debug flag is enabled to avoid spam in console
          try { if (window.BEGON_DEBUG) console.log('updateBasketBadges: total=', total, 'basket=', basket); } catch(_) {}
          if (basketCountElNow) basketCountElNow.textContent = String(total);
          if (mobileBasketCountNow) mobileBasketCountNow.textContent = String(total);
          updateHeaderBasketBadge(total);
          try { syncSendOfferState(); } catch(_){ }
        } catch (e) { /* swallow errors to avoid breaking callers */ }
      }, 80);
    }

    // Ensure the Teklif İste button state matches the basket
    function syncSendOfferState() {
      try {
        const sendBtn = document.getElementById('send-offer');
        if (!sendBtn) return;
        if (!basket || !basket.length) {
          sendBtn.disabled = true;
          sendBtn.classList.add('opacity-50', 'cursor-not-allowed');
          sendBtn.style.pointerEvents = 'none';
        } else {
          sendBtn.disabled = false;
          sendBtn.classList.remove('opacity-50', 'cursor-not-allowed');
          sendBtn.style.pointerEvents = 'auto';
        }
      } catch (e) { console.log('syncSendOfferState err', e); }
    }

  function renderBasket() {
      const basketItemsEl = document.getElementById('basket-items');
      const emptyBasketEl = document.getElementById('empty-basket');
      const sendOfferBtn = document.getElementById('send-offer');
      const totalCountEl = document.getElementById('basket-total-count');

      if (!basketItemsEl) {
        // DOM element not available right now
        return false;
      }

      if (!basket.length) {
        basketItemsEl.innerHTML = '';
        if (emptyBasketEl) emptyBasketEl.style.display = 'block';
        if (sendOfferBtn) { sendOfferBtn.disabled = true; sendOfferBtn.classList.add('opacity-50','cursor-not-allowed'); }
        if (totalCountEl) totalCountEl.textContent = '0';
        updateBasketBadges();
        return true;
      }

      // Build items
      basketItemsEl.innerHTML = basket.map(item => {
        const product = PRODUCTS.find(p => p.id === item.id);
        const brandColor = product?.brand === 'Akuvox' ? 'blue' : 'green';
        const category = product ? getCategoryName(product.cat) : 'Ürün';
        const priceText = item.price ? `<div class="text-xs text-gray-500">${item.price}</div>` : '';

  return `
  <div class="bg-gray-50 rounded-xl p-4 border border-gray-100 hover:border-gray-200 transition-all duration-300">
          <div class="flex items-start justify-between mb-3">
            <div class="flex-1 min-w-0">
              <h4 class="text-sm font-semibold text-gray-800 line-clamp-2">${item.name}</h4>
              ${product ? `<div class="flex items-center gap-2 mt-1"><div class="w-2 h-2 bg-${brandColor}-500 rounded-full"></div><span class="text-xs text-gray-600">${product.brand}</span></div>` : ''}
              ${priceText}
            </div>
            <button data-del="${item.id}" class="text-red-500 hover:text-red-700 hover:bg-red-50 p-1 rounded-lg transition-all duration-300" title="Sepetten Çıkar">
              <i class="fa fa-trash text-xs"></i>
            </button>
          </div>
          <div class="flex items-center justify-between">
            <div class="flex items-center gap-3 bg-white rounded-lg border border-gray-200 p-1">
              <button data-dec="${item.id}" class="w-8 h-8 rounded-lg flex items-center justify-center text-gray-600 hover:bg-gray-100 hover:text-brand-primary transition-all duration-300 font-semibold"><i class="fa fa-minus text-xs"></i></button>
              <span class="text-sm font-semibold text-gray-800 min-w-[3rem] text-center">${item.qty} adet</span>
              <button data-inc="${item.id}" class="w-8 h-8 rounded-lg flex items-center justify-center text-gray-600 hover:bg-gray-100 hover:text-brand-primary transition-all duration-300 font-semibold"><i class="fa fa-plus text-xs"></i></button>
            </div>
            <div class="text-xs text-gray-500 font-medium">${category}</div>
          </div>
        </div>`;
      }).join('');

      if (emptyBasketEl) emptyBasketEl.style.display = 'none';
      if (sendOfferBtn) { sendOfferBtn.disabled = false; sendOfferBtn.classList.remove('opacity-50','cursor-not-allowed'); }
      if (totalCountEl) totalCountEl.textContent = String(basket.reduce((s,i)=>s+i.qty,0));

      updateBasketBadges();
      return true;
    }

    // Safe render: try to render immediately, otherwise retry a few times
    function safeRenderBasket(attempts = 5, delay = 120) {
      try {
        const basketItemsEl = document.getElementById('basket-items');
        try { if (window.BEGON_DEBUG) console.log('safeRenderBasket: attempts=', attempts, 'basketExists=', !!basketItemsEl); } catch(_) {}
        updateDebugPanel();
        const ok = renderBasket();
        if (ok) return;
        if (attempts <= 0) {
          try { if (window.BEGON_DEBUG) console.log('safeRenderBasket: giving up after retries'); } catch(_) {}
          return;
        }
        setTimeout(() => safeRenderBasket(attempts - 1, delay), delay);
      } catch (err) {
        console.log('safeRenderBasket: caught err', err);
        if (attempts <= 0) return;
        setTimeout(() => safeRenderBasket(attempts - 1, delay), delay);
      }
    }

    // Initialization: sync basket count and render current basket on page load
    // Data flow docs:
    // - products.html: clicking [data-action="add"] calls addToBasket(id) which updates the in-memory `basket`, saves it to localStorage ('begon_basket'), and refreshes UI badges.
    // - contact.html: when redirected via "Teklif İste", it reads localStorage('begon_basket') to prefill the form with product names/quantities (and optional prices).
    document.addEventListener('DOMContentLoaded', () => {
      try {
        basket = JSON.parse(localStorage.getItem('begon_basket') || '[]');
      } catch (_) { basket = []; }
      updateBasketBadges();
      renderBasket();
    });

    function addToBasket(id) {
      const p = PRODUCTS.find(x => x.id === id);
      if (!p) return;
      console.log('addToBasket called with id=', id, ' product=', p);
      const existing = basket.find(x => x.id === id);
      if (existing) existing.qty += 1;
      else basket.push({ id: p.id, name: p.name, price: p.price ?? null, qty: 1 });
      saveBasket();
      safeRenderBasket();
      try { showToast(p.name + ' sepete eklendi'); } catch(_){}
    }

    function openModal(id) {
  const p = PRODUCTS.find(x => x.id === id);
  if (!p) return;
  currentModal = p;
  modalIndex = 0;
  modalTitle.textContent = p.name;
  modalName.textContent = p.name;
  // Enhance readability: add spacing between paragraphs
  let descHtml = p.desc;
  if (p.details) {
    // Add margin-bottom to paragraphs and list for better spacing
    let detailsHtml = p.details.replace(/<div([^>]*)>/g, '<div$1 style="margin-bottom:1em;">')
                              .replace(/<ul([^>]*)>/g, '<ul$1 style="margin-bottom:1em;">')
                              .replace(/<li([^>]*)>/g, '<li$1 style="margin-bottom:0.5em;">');
    descHtml += detailsHtml;
  }
  // Hide datasheet link (datasheet functionality moved to product.html)
  modalDatasheetWrap.classList.add('hidden');
  modalDesc.innerHTML = descHtml;
  modalImg.src = p.images[0] || '../assets/images/logo.png';
  modal.classList.remove('hidden');
  modal.classList.add('flex');
    }

    function closeModal() {
      modal.classList.add('hidden');
      modal.classList.remove('flex');
    }

    function showModalImage(delta) {
      if (!currentModal) return;

      const imgs = currentModal.images || [];
      if (!imgs.length) return;
      modalIndex = (modalIndex + delta + imgs.length) % imgs.length;
      modalImg.src = imgs[modalIndex];
    }

    // Wire filters
    catBtns.forEach(btn => btn.addEventListener('click', () => {
      activeCat = btn.dataset.cat;
      catBtns.forEach(b => {
        b.classList.remove('bg-brand-accent', 'text-white', 'border-brand-accent');
      });
      // Sadece seçili butonu mavi yap
      btn.classList.add('bg-brand-accent', 'text-white', 'border-brand-accent');
      applyFilters();
    }));
    brandBtns.forEach(btn => btn.addEventListener('click', () => {
      activeBrand = btn.dataset.brand;
      brandBtns.forEach(b => b.classList.remove('bg-brand-accent', 'text-white', 'border-brand-accent'));
      btn.classList.add('bg-brand-accent', 'text-white', 'border-brand-accent');
      applyFilters();
    }));
    connBtns.forEach(btn => btn.addEventListener('click', () => {
      activeConn = btn.dataset.conn;
      connBtns.forEach(b => b.classList.remove('bg-brand-accent', 'text-white', 'border-brand-accent'));
      btn.classList.add('bg-brand-accent', 'text-white', 'border-brand-accent');
      applyFilters();
    }));
    searchEl.addEventListener('input', applyFilters);

    // Grid actions (use closest to capture clicks on nested elements)
    function attachGridHandler(el) {
      if (!el) return;
      el.addEventListener('click', (e) => {
        const card = e.target.closest('.product-card');
        if (!card) return;
        const id = card.dataset.id;
        const addBtn = e.target.closest('[data-action="add"]');
        if (addBtn) {
          e.preventDefault();
          e.stopPropagation();
          console.log('Grid: add button clicked for id=', id);
          addToBasket(id);
          showToast('Sepete eklendi');
          return;
        }
        const detailsBtn = e.target.closest('[data-action="details"]');
        // Open modal for details button or any other click on the card
        if (detailsBtn) {
          openModal(id);
        } else if (card && !addBtn) {
          // Click on card body opens details
          openModal(id);
        }
      });
    }

    if (gridEl) attachGridHandler(gridEl);
    else onReadyAttach('grid', attachGridHandler);

    // Fallback delegated handler: capture any click on elements with data-action="add"
    document.addEventListener('click', (e) => {
      const addBtn = e.target.closest('[data-action="add"]');
      if (!addBtn) return;
      // Find the closest product card to extract id
      const card = addBtn.closest('.product-card');
      const id = card ? card.dataset.id : addBtn.getAttribute('data-id');
      if (!id) return;
      e.preventDefault();
      e.stopPropagation();
      console.log('Delegated: add button clicked for id=', id);
      addToBasket(id);
    });

    // Basket actions (attach robustly)
    onReadyAttach('basket-items', el => {
      // Prevent duplicate bindings that can cause double increments
      if (el.__begon_bound) return;
      el.__begon_bound = true;
      el.addEventListener('click', (e) => {
        const decBtn = e.target.closest('[data-dec]');
        const incBtn = e.target.closest('[data-inc]');
        const delBtn = e.target.closest('[data-del]');

        if (decBtn) {
          const dec = decBtn.getAttribute('data-dec');
          const it = basket.find(x => x.id === dec);
          if (it) { it.qty = Math.max(1, it.qty - 1); saveBasket(); safeRenderBasket(); }
          return;
        }

        if (incBtn) {
          const inc = incBtn.getAttribute('data-inc');
          const it = basket.find(x => x.id === inc);
          if (it) { it.qty += 1; saveBasket(); safeRenderBasket(); }
          return;
        }

        if (delBtn) {
          const del = delBtn.getAttribute('data-del');
          basket = basket.filter(x => x.id !== del);
          saveBasket(); safeRenderBasket();
          return;
        }
      });
    });

    // Use delegated handlers so buttons work even if DOM is updated by partial loader
    document.addEventListener('click', (e) => {
      const clearBtn = e.target.closest('#clear-basket');
      if (clearBtn) {
        basket = [];
        saveBasket();
        safeRenderBasket();
        return;
      }
      const sendBtn = e.target.closest('#send-offer');
      if (sendBtn) {
        if (!basket.length) { alert('Sepetiniz boş.'); return; }
        localStorage.setItem('begon_basket_from', '1');
        window.location.href = './contact.html?from=basket';
        return;
      }
      const mobBtn = e.target.closest('#mobile-basket-btn');
      if (mobBtn) {
        const items = document.getElementById('basket-items');
        if (items) items.scrollIntoView({ behavior: 'smooth', block: 'start' });
        return;
      }
    });

    // Also attach direct listeners to the basket action buttons when they appear
    onReadyAttach('clear-basket', (el) => {
      try{ el.addEventListener('click', (ev) => { ev.preventDefault(); ev.stopPropagation(); console.log('clear-basket clicked'); basket = []; saveBasket(); safeRenderBasket(); }); }catch(_){ }
    });
    onReadyAttach('send-offer', (el) => {
      try{ el.addEventListener('click', (ev) => { ev.preventDefault(); ev.stopPropagation(); console.log('send-offer clicked'); if (!basket.length) { alert('Sepetiniz boş.'); return; } localStorage.setItem('begon_basket_from', '1'); window.location.href = './contact.html?from=basket'; }); }catch(_){ }
    });

    // Modal wiring
    modalClose.addEventListener('click', closeModal);
    modalAdd.addEventListener('click', () => {
      if (currentModal) {
        addToBasket(currentModal.id);
      }
    });
    modalClose2.addEventListener('click', closeModal);
    modal.addEventListener('click', (e) => { if (e.target === modal) closeModal(); });
  modalPrev.addEventListener('click', () => showModalImage(-1));
  modalNext.addEventListener('click', () => showModalImage(1));

    // Update product count display
    function updateProductCount() {
      const totalProducts = PRODUCTS.length;
      const filteredProducts = applyFiltersToProducts();
      const countElement = document.getElementById('product-count');
      if (countElement) {
        countElement.textContent = `${filteredProducts.length} / ${totalProducts} ürün gösteriliyor`;
      }

      // Kategori sayıları: aktif filtreye göre
      const categoryCounts = {};
      filteredProducts.forEach(product => {
        const cat = product.cat || 'other';
        categoryCounts[cat] = (categoryCounts[cat] || 0) + 1;
      });
      // Tümü: filtrelenmemiş ürün sayısı
      const countAllEl = document.getElementById('count-all');
      if (countAllEl) countAllEl.textContent = filteredProducts.length;
      Object.keys(categoryCounts).forEach(cat => {
        const countEl = document.getElementById(`count-${cat}`);
        if (countEl) countEl.textContent = categoryCounts[cat];
      });

      // Marka sayıları: aktif filtreye göre
      // Marka sayıları: aktif filtreye göre (ör: Akubela sadece ekranda görünenler)
      const brandCounts = { all: filteredProducts.length };
      filteredProducts.forEach(product => {
        // Marka id'si HTML'de küçük harfli, Akubela/Akuvox vs. için normalize et
        const brandKey = (product.brand || '').toLowerCase();
        brandCounts[brandKey] = (brandCounts[brandKey] || 0) + 1;
      });
      const brandAllEl = document.getElementById('brand-count-all');
      if (brandAllEl) brandAllEl.textContent = filteredProducts.length;
      // Akubela/Akuvox gibi markalar için doğru sayım
      ['akuvox','akubela'].forEach(brand => {
        const countEl = document.getElementById(`brand-count-${brand}`);
        if (countEl) countEl.textContent = brandCounts[brand] || 0;
      });
      // Diğer markalar için de güncelle
      Object.keys(brandCounts).forEach(brand => {
        const countEl = document.getElementById(`brand-count-${brand}`);
        if (countEl) countEl.textContent = brandCounts[brand];
      });

      // Bağlantı sayıları: aktif filtreye göre
      const connCounts = { all: filteredProducts.length };
      filteredProducts.forEach(product => {
        if (product.conn && Array.isArray(product.conn)) {
          product.conn.forEach(conn => {
            connCounts[conn] = (connCounts[conn] || 0) + 1;
          });
        }
      });
      const connAllEl = document.querySelector('.conn-btn[data-conn="all"] .bg-gray-100');
      if (connAllEl) connAllEl.textContent = filteredProducts.length;
      Object.keys(connCounts).forEach(conn => {
        const countEl = document.getElementById(`count-${conn.toLowerCase()}`);
        if (countEl) countEl.textContent = connCounts[conn];
      });
    }

    // Keep a stable reference to the original renderer to avoid recursion
    const renderBasketBase = renderBasket;

    // Enhanced basket rendering with animations
    function renderBasketEnhanced() {
      // Call original basket renderer to populate basic list
      if (typeof renderBasketBase === 'function') renderBasketBase();
      
      // Update empty state
      const emptyBasket = document.getElementById('empty-basket');
      const basketItems = document.getElementById('basket-items');
      const sendOfferBtn = document.getElementById('send-offer');
      
      if (basket.length === 0) {
        emptyBasket.style.display = 'block';
        sendOfferBtn.disabled = true;
        sendOfferBtn.classList.add('opacity-50', 'cursor-not-allowed');
      } else {
        emptyBasket.style.display = 'none';
        sendOfferBtn.disabled = false;
        sendOfferBtn.classList.remove('opacity-50', 'cursor-not-allowed');
      }
      
      // Update total count
      const totalCountEl = document.getElementById('basket-total-count');
      if (totalCountEl) {
        totalCountEl.textContent = basket.reduce((sum, item) => sum + item.qty, 0);
      }
    }
    
    // Stagger animation for product cards
    function animateProductCards() {
      const cards = document.querySelectorAll('.product-card');
      cards.forEach((card, index) => {
        card.classList.add('stagger-animation');
        card.style.animationDelay = `${index * 0.1}s`;
      });
    }
    
    // Clear filters functionality
    function clearAllFilters() {
      // Reset all filter states
      activeCat = 'all';
      activeBrand = 'all';
      activeConn = 'all';
      searchEl.value = '';
      
      // Update UI
      catBtns.forEach(btn => {
        if (btn.dataset.cat === 'all') btn.classList.add('active');
        else btn.classList.remove('active');
      });
      brandBtns.forEach(btn => {
        if (btn.dataset.brand === 'all') btn.classList.add('active');
        else btn.classList.remove('active');
      });
      connBtns.forEach(btn => {
        if (btn.dataset.conn === 'all') btn.classList.add('active');
        else btn.classList.remove('active');
      });
      
      // Apply filters
      applyFilters();
    }
    
    // Enhanced keyboard shortcuts
    document.addEventListener('keydown', (e) => {
      if ((e.metaKey || e.ctrlKey) && e.key === 'k') {
        e.preventDefault();
        document.getElementById('search').focus();
      }
      if (e.key === 'Escape') {
        closeModal();
      }
      // Toggle debug panel with Ctrl+Shift+D
      if (e.ctrlKey && e.shiftKey && (e.key === 'D' || e.key === 'd')) {
        const panel = document.getElementById('basket-debug');
        if (!panel) return;
        panel.style.display = panel.style.display === 'block' ? 'none' : 'block';
        updateDebugPanel();
      }
    });
    
    // Clear filters button event
    document.addEventListener('click', (e) => {
      if (e.target.id === 'clear-filters') {
        clearAllFilters();
      }
    });

    // Init
    // Highlight defaults on load
    window.addEventListener('DOMContentLoaded', () => {
      // Initialize AOS animations
      if (typeof AOS !== 'undefined') {
        AOS.init({
          duration: 800,
          easing: 'ease-in-out',
          once: true,
          offset: 100
        });
      }
      
      // Görüntüle buttons
      viewCountBtns.forEach(btn => {
        if (btn.dataset.count === '16') {
          btn.classList.add('active', 'font-bold', 'text-white', 'bg-gradient-to-r', 'from-brand-primary', 'to-brand-accent', 'shadow-lg');
          btn.classList.remove('text-gray-600', 'hover:text-brand-primary', 'hover:bg-white');
        } else {
          btn.classList.remove('active', 'font-bold', 'text-white', 'bg-gradient-to-r', 'from-brand-primary', 'to-brand-accent', 'shadow-lg');
          btn.classList.add('text-gray-600', 'hover:text-brand-primary', 'hover:bg-white');
        }
      });
      
      // View toggle buttons
      viewGridBtn.classList.add('active');
      viewListBtn.classList.remove('active');
      viewGridDenseBtn.classList.remove('active');
      
      // Default sorting
      sortMethodEl.value = 'default';
      
      // Category filters (Tümü selected)
      catBtns.forEach(btn => {
        if (btn.dataset.cat === 'all') {
          btn.classList.add('active');
        } else {
          btn.classList.remove('active');
        }
      });
      
      // Brand filters (Tümü selected)
      brandBtns.forEach(btn => {
        if (btn.dataset.brand === 'all') {
          btn.classList.add('active');
        } else {
          btn.classList.remove('active');
        }
      });
      
      // Connection filters (Tümü selected)
      connBtns.forEach(btn => {
        if (btn.dataset.conn === 'all') {
          btn.classList.add('active');
        } else {
          btn.classList.remove('active');
        }
      });
      
  // Initialize counts and filters
  updateProductCount();
  applyFilters();
  // Render basket using enhanced renderer
  renderBasketEnhanced();
  try { updateDebugPanel(); } catch(_){}
  try { syncSendOfferState(); } catch(_){ }
      
      // Add stagger animation to initial load
      setTimeout(animateProductCards, 500);
    });
    
  // Replace the global renderBasket with the enhanced version
  renderBasket = renderBasketEnhanced;

  // Ensure basket action handlers are attached even if partial loader replaces DOM
  function attachBasketActionHandlers() {
    try {
      const sendBtn = document.getElementById('send-offer');
      const clearBtn = document.getElementById('clear-basket');
      const basketItemsEl = document.getElementById('basket-items');

      if (sendBtn && !sendBtn.__begon_bound) {
        sendBtn.addEventListener('click', (e) => {
          e.preventDefault(); e.stopPropagation();
          console.log('send-offer clicked (attached)');
          if (!basket.length) { alert('Sepetiniz boş.'); return; }
          localStorage.setItem('begon_basket_from', '1');
          window.location.href = './contact.html?from=basket';
        });
        sendBtn.__begon_bound = true;
      }

      if (clearBtn && !clearBtn.__begon_bound) {
        clearBtn.addEventListener('click', (e) => {
          e.preventDefault(); e.stopPropagation();
          console.log('clear-basket clicked (attached)');
          basket = [];
          saveBasket();
          safeRenderBasket();
        });
        clearBtn.__begon_bound = true;
      }

      if (basketItemsEl && !basketItemsEl.__begon_bound) {
        basketItemsEl.addEventListener('click', (e) => {
          const decBtn = e.target.closest('[data-dec]');
          const incBtn = e.target.closest('[data-inc]');
          const delBtn = e.target.closest('[data-del]');

          if (decBtn) {
            const dec = decBtn.getAttribute('data-dec');
            const it = basket.find(x => x.id === dec);
            if (it) { it.qty = Math.max(1, it.qty - 1); saveBasket(); safeRenderBasket(); }
            return;
          }
          if (incBtn) {
            const inc = incBtn.getAttribute('data-inc');
            const it = basket.find(x => x.id === inc);
            if (it) { it.qty += 1; saveBasket(); safeRenderBasket(); }
            return;
          }
          if (delBtn) {
            const del = delBtn.getAttribute('data-del');
            basket = basket.filter(x => x.id !== del);
            saveBasket(); safeRenderBasket();
            return;
          }
        });
        basketItemsEl.__begon_bound = true;
      }

      // Sync state visuals
      try { syncSendOfferState(); } catch(_){}
    } catch (err) {
      console.warn('attachBasketActionHandlers error', err);
    }
  }

  // Observe DOM changes and reattach handlers when basket or its controls are inserted/replaced
  (function watchBasketArea(){
    try {
      // Attach initially in case elements are already present
      attachBasketActionHandlers();

      const observer = new MutationObserver((mutations) => {
        let found = false;
        for (const m of mutations) {
          for (const n of m.addedNodes) {
            if (!(n instanceof Element)) continue;
            if (n.id === 'basket-items' || n.querySelector && n.querySelector('#basket-items')) found = true;
            if (n.id === 'send-offer' || n.querySelector && n.querySelector('#send-offer')) found = true;
            if (n.id === 'clear-basket' || n.querySelector && n.querySelector('#clear-basket')) found = true;
          }
        }
        if (found) {
          // Delay slightly to allow partial loading transitions to finish
          setTimeout(() => { attachBasketActionHandlers(); safeRenderBasket(); }, 50);
        }
      });
      observer.observe(document.body, { childList: true, subtree: true });
    } catch (e) { console.warn('watchBasketArea init err', e); }
  })();
  </script>

  <!-- Spacer then Footer -->
  <div class="h-16 md:h-24 lg:h-32"></div>
  <div id="__footer" class="w-full"></div>

  <script src="../assets/js/main.js"></script>
  <script src="../assets/js/includes.js"></script>

  <!-- Google Fonts -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  

  <!-- Floating WhatsApp Button -->
  <div class="whats-float">
    <a href="https://wa.me/905062691778" target="_blank">
      <i class="fa fa-whatsapp"></i><span>WhatsApp<br><small>+90 506 269 1778</small></span>
    </a>
  </div>
</body>
</html>
